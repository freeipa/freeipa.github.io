
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>YubiRadius_integration_with_group-validated_FreeIPA_Users_using_LDAPS &#8212; FreeIPA  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'page/YubiRadius_integration_with_group-validated_FreeIPA_Users_using_LDAPS';</script>
    <link rel="icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><a class="navbar-brand logo" href="/">
    <img src="https://raw.githubusercontent.com/freeipa/freeipa.github.io/main/src/_static/freeipa-logo-small.png" class="logo__image" alt="Logo image" />
</a>
<div class="sidebar-primary-item">
    <nav class="bd-links" id="bd-docs-nav" aria-label="Main">
        <div class="bd-toc-item navbar-nav active">
            <ul class="nav bd-sidenav">
                <li class="toctree-l1"><a class="reference internal" href="/About.html">About</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Contribute.html">Contribute</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/page/Documentation.html">Documentation</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/page/Troubleshooting.html">Troubleshooting</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Downloads.html">Downloads</a></li>
            </ul>
        </div>
    </nav>
</div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/page/YubiRadius_integration_with_group-validated_FreeIPA_Users_using_LDAPS.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>YubiRadius_integration_with_group-validated_FreeIPA_Users_using_LDAPS</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-create-our-group-to-be-used-for-user-validation">Step 1. Create our Group to be used for user validation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-add-users-to-your-new-group">Step 2. Add users to your new group.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-create-an-ldap-bind-account">Step 3, Create an LDAP bind account.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-add-your-yubiradius-server-s-hostname-to-our-dns-environment-if-you-are-using-ipa-to-manage-your-dns-do-the-following">Step 4. Add your YubiRadius server’s hostname to our DNS environment. If you are using IPA to manage your DNS, do the following.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-start-to-configure-your-yubiradius-through-the-webmin-management-page">Step 5. Start to configure your YubiRadius through the webmin management page.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-6-create-a-domain">Step 6. Create a domain.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-7-import-users-from-freeipa">Step 7. Import Users from FreeIPA</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-8-assign-yubikey-s-to-your-user-s">Step 8. Assign Yubikey(s) to your User(s)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-9-verify-your-user-s-radius-authentication">Step 9. Verify your User’s Radius authentication.</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="yubiradius-integration-with-group-validated-freeipa-users-using-ldaps">
<h1>YubiRadius_integration_with_group-validated_FreeIPA_Users_using_LDAPS<a class="headerlink" href="#yubiradius-integration-with-group-validated-freeipa-users-using-ldaps" title="Link to this heading">#</a></h1>
<p><strong>YubiRadius integration with group-validated FreeIPA Users using
LDAPS</strong></p>
<p><em>Provided by Dale Macartney</em></p>
<p>This page is a copy of the original post that can be found here.
` &lt;<a class="reference external" href="https://www.dalemacartney.com/2012/07/13/yubiradius-integration-with-group-validated-freeipa-users-using-ldaps/">https://www.dalemacartney.com/2012/07/13/yubiradius-integration-with-group-validated-freeipa-users-using-ldaps/</a>&gt;`__<a class="reference external" href="https://www.dalemacartney.com/2012/07/13/yubiradius-integration-with-group-validated-freeipa-users-using-ldaps/">https://www.dalemacartney.com/2012/07/13/yubiradius-integration-with-group-validated-freeipa-users-using-ldaps/</a></p>
<p>This article will show you how to set up the YubiRadius Virtual
Appliance (v. 3.5.1) for User validation against a FreeIPA
infrastructure on Red Hat Enterprise Linux 6.3.</p>
<p>You can obtain the YubiRadius Virtual Appliance from the good people
over at Yubico, or just click here</p>
<p>This guide is not meant to show you how to configure a virtual appliance
in your choice of Virtualization technology, although as I am using KVM,
a special thanks to Gavin Spurgeon for getting this VA converted and
working smoothly (even with virtio for the icing on the cake).</p>
<p>For details in configuring the Virtual Appliance you can reference the
Yubico’s provided documentation here if you wish.</p>
<p>Now, before we begin, the details for the purpose of this article are as
follows.</p>
<p><code class="docutils literal notranslate"><span class="pre">IPA</span> <span class="pre">server:</span> <span class="pre">ds01.example.com</span> <span class="pre">(10.0.1.11)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">YubiRadius</span> <span class="pre">VA:</span> <span class="pre">yubiradius01.example.com</span> <span class="pre">(10.0.1.31)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">Group</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">for</span> <span class="pre">validation:</span> <span class="pre">&quot;yubikey&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">YubiRadius</span> <span class="pre">LDAP</span> <span class="pre">Bind</span> <span class="pre">Account:</span> <span class="pre">&quot;yubiradius&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">Example</span> <span class="pre">Users:</span> <span class="pre">euser1,</span> <span class="pre">euser2,</span> <span class="pre">euser3,</span> <span class="pre">euser4,</span> <span class="pre">euser5</span></code></p>
<section id="step-1-create-our-group-to-be-used-for-user-validation">
<h2>Step 1. Create our Group to be used for user validation<a class="headerlink" href="#step-1-create-our-group-to-be-used-for-user-validation" title="Link to this heading">#</a></h2>
<p>On your FreeIPA server, run the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@ds01</span> <span class="o">~</span><span class="p">]</span><span class="c1"># ipa group-add</span>
<span class="n">Group</span> <span class="n">name</span><span class="p">:</span> <span class="n">yubikey</span>
<span class="n">Description</span><span class="p">:</span> <span class="n">YubiKey</span> <span class="n">validation</span> <span class="n">group</span>
<span class="o">---------------------</span>
<span class="n">Added</span> <span class="n">group</span> <span class="s2">&quot;yubikey&quot;</span>
<span class="o">---------------------</span>
<span class="n">Group</span> <span class="n">name</span><span class="p">:</span> <span class="n">yubikey</span>
<span class="n">Description</span><span class="p">:</span> <span class="n">YubiKey</span> <span class="n">validation</span> <span class="n">group</span>
<span class="n">GID</span><span class="p">:</span> <span class="mi">1870200005</span>
<span class="p">[</span><span class="n">root</span><span class="nd">@ds01</span> <span class="o">~</span><span class="p">]</span><span class="c1">#</span>
</pre></div>
</div>
</section>
<section id="step-2-add-users-to-your-new-group">
<h2>Step 2. Add users to your new group.<a class="headerlink" href="#step-2-add-users-to-your-new-group" title="Link to this heading">#</a></h2>
<p>As I have already created my users, I will add them to the group I have
just created.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@ds01</span> <span class="o">~</span><span class="p">]</span><span class="c1"># ipa group-add-member yubikey</span>
<span class="p">[</span><span class="n">member</span> <span class="n">user</span><span class="p">]:</span> <span class="n">euser1</span><span class="p">,</span><span class="n">euser2</span><span class="p">,</span><span class="n">euser3</span><span class="p">,</span><span class="n">euser4</span><span class="p">,</span><span class="n">euser5</span>
<span class="p">[</span><span class="n">member</span> <span class="n">group</span><span class="p">]:</span>
<span class="n">Group</span> <span class="n">name</span><span class="p">:</span> <span class="n">yubikey</span>
<span class="n">Description</span><span class="p">:</span> <span class="n">YubiKey</span> <span class="n">validation</span> <span class="n">group</span>
<span class="n">GID</span><span class="p">:</span> <span class="mi">1870200005</span>
<span class="n">Member</span> <span class="n">users</span><span class="p">:</span> <span class="n">euser1</span><span class="p">,</span> <span class="n">euser2</span><span class="p">,</span> <span class="n">euser3</span><span class="p">,</span> <span class="n">euser4</span><span class="p">,</span> <span class="n">euser5</span>
<span class="o">-------------------------</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">members</span> <span class="n">added</span> <span class="mi">5</span>
<span class="o">-------------------------</span>
<span class="p">[</span><span class="n">root</span><span class="nd">@ds01</span> <span class="o">~</span><span class="p">]</span><span class="c1">#</span>
</pre></div>
</div>
</section>
<section id="step-3-create-an-ldap-bind-account">
<h2>Step 3, Create an LDAP bind account.<a class="headerlink" href="#step-3-create-an-ldap-bind-account" title="Link to this heading">#</a></h2>
<p>Create a text file called “yubiradius.ldif” with the following content.</p>
<p>Be sure to change the password to something secure. In this example I
have used “redhat123”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dn</span><span class="p">:</span> <span class="n">uid</span><span class="o">=</span><span class="n">yubiradius</span><span class="p">,</span><span class="n">cn</span><span class="o">=</span><span class="n">sysaccounts</span><span class="p">,</span><span class="n">cn</span><span class="o">=</span><span class="n">etc</span><span class="p">,</span><span class="n">dc</span><span class="o">=</span><span class="n">example</span><span class="p">,</span><span class="n">dc</span><span class="o">=</span><span class="n">com</span>
<span class="n">changetype</span><span class="p">:</span> <span class="n">add</span>
<span class="n">objectclass</span><span class="p">:</span> <span class="n">account</span>
<span class="n">objectclass</span><span class="p">:</span> <span class="n">simplesecurityobject</span>
<span class="n">uid</span><span class="p">:</span> <span class="n">yubiradius</span>
<span class="n">userPassword</span><span class="p">:</span> <span class="n">redhat123</span>
<span class="n">passwordExpirationTime</span><span class="p">:</span> <span class="mi">20380119031407</span><span class="n">Z</span>
<span class="n">nsIdleTimeout</span><span class="p">:</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Now, import yubiradius.ldif into FreeIPA. You will need to enter your
Directory Manager password, as you are making additions to LDAP.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@ds01</span> <span class="o">~</span><span class="p">]</span><span class="c1"># ldapmodify -h ds01.example.com -p 389 -x -D &quot;cn=Directory  Manager&quot; -W -f yubiradius.ldif</span>
<span class="n">Enter</span> <span class="n">LDAP</span> <span class="n">Password</span><span class="p">:</span>
<span class="n">adding</span> <span class="n">new</span> <span class="n">entry</span> <span class="s2">&quot;uid=yubiradius,cn=sysaccounts,cn=etc,dc=example,dc=com&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">[root&#64;ds01</span> <span class="pre">~]#</span></code></p>
</section>
<section id="step-4-add-your-yubiradius-server-s-hostname-to-our-dns-environment-if-you-are-using-ipa-to-manage-your-dns-do-the-following">
<h2>Step 4. Add your YubiRadius server’s hostname to our DNS environment. If you are using IPA to manage your DNS, do the following.<a class="headerlink" href="#step-4-add-your-yubiradius-server-s-hostname-to-our-dns-environment-if-you-are-using-ipa-to-manage-your-dns-do-the-following" title="Link to this heading">#</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@ds01</span> <span class="o">~</span><span class="p">]</span><span class="c1"># ipa dnsrecord-add example.com yubiradius01 --a-rec 10.0.1.31</span>
<span class="n">Record</span> <span class="n">name</span><span class="p">:</span> <span class="n">yubiradius01</span>
<span class="n">A</span> <span class="n">record</span><span class="p">:</span> <span class="mf">10.0.1.31</span>
<span class="p">[</span><span class="n">root</span><span class="nd">@ds01</span> <span class="o">~</span><span class="p">]</span><span class="c1"># ipa dnsrecord-add 1.0.10.in-addr.arpa. 31 --ptr-rec   yubiradius01.example.com.</span>
<span class="n">Record</span> <span class="n">name</span><span class="p">:</span> <span class="mi">31</span>
<span class="n">PTR</span> <span class="n">record</span><span class="p">:</span> <span class="n">yubiradius01</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">.</span>
<span class="p">[</span><span class="n">root</span><span class="nd">@ds01</span> <span class="o">~</span><span class="p">]</span><span class="c1">#</span>
</pre></div>
</div>
</section>
<section id="step-5-start-to-configure-your-yubiradius-through-the-webmin-management-page">
<h2>Step 5. Start to configure your YubiRadius through the webmin management page.<a class="headerlink" href="#step-5-start-to-configure-your-yubiradius-through-the-webmin-management-page" title="Link to this heading">#</a></h2>
<p>Start by logging into your Yubiradius.</p>
<p>Browse to <a class="reference external" href="https://:10000">https://:10000</a></p>
<p>Log in with these details</p>
<p>Username: yubikey</p>
<p>Password: yubico</p>
<p>See attached screen shot</p>
<figure class="align-default" id="id1">
<img alt="Webmin_Login.png" src="../_images/Webmin_Login.png" />
<figcaption>
<p><span class="caption-text">Webmin_Login.png</span><a class="headerlink" href="#id1" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="step-6-create-a-domain">
<h2>Step 6. Create a domain.<a class="headerlink" href="#step-6-create-a-domain" title="Link to this heading">#</a></h2>
<p>The first page you will be presented with, will be the Domain page,
before continuing, enter your domain name and click the “Add Domain”
button.</p>
<p>In my example, it is “example.com”</p>
</section>
<section id="step-7-import-users-from-freeipa">
<h2>Step 7. Import Users from FreeIPA<a class="headerlink" href="#step-7-import-users-from-freeipa" title="Link to this heading">#</a></h2>
<p>Once you have created your domain, it will appear in the Domains list.
Click your domain to enter the configuration.</p>
<p>You will see there is currently no users configured. Click on the “Users
Import” tab to continue.</p>
<p>Use the following details to configure your User Import. You will notice
I am using Secure LDAP lookups. This stops the usernames and passwords
from being transmitted in clear text. I HIGHLY recommend you do the
same.</p>
<p>Use Secure Connection? = Yes</p>
<p>LDAP/AD Server Address or Host Name = ds01.example.com</p>
<p>Backup LDAP/AD Server Address or Host Name = (leave blank)</p>
<p>Port (use 0 or blank to use the default port) = 636</p>
<p>Directory Type = OpenLDAP</p>
<p>LDAP Version = 3</p>
<p>Base DN = cn=users,cn=accounts,dc=example,dc=com</p>
<p>User DN = uid=yubiradius,cn=sysaccounts,cn=etc,dc=example,dc=com</p>
<p>Password = redhat123</p>
<p>Schedule = Hourly</p>
<p>Timeout (Seconds) = 0</p>
<p>Filter = (memberOf=cn=yubikey,cn=groups,cn=accounts,dc=example,dc=com)</p>
<p>Notes = Blank</p>
<p>Login Name Identifier = uid</p>
<p>Once you have filled in all the relevant details. Click the “save”
button. Once you have saved your configuration. Click the “Import Users”
button.</p>
<p>You will be presented with a window that should look as follows. If you
receive an error, you may have made an error in your configuration in
this step. You will want to go back to double check.</p>
<p>See attached screen shot</p>
<figure class="align-default" id="id2">
<img alt="UserImportSuccessful.png" src="../_images/UserImportSuccessful.png" />
<figcaption>
<p><span class="caption-text">UserImportSuccessful.png</span><a class="headerlink" href="#id2" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Once this has completed, click “Return to previous page”, and then click
the “Users/Groups” tab at the top.</p>
</section>
<section id="step-8-assign-yubikey-s-to-your-user-s">
<h2>Step 8. Assign Yubikey(s) to your User(s)<a class="headerlink" href="#step-8-assign-yubikey-s-to-your-user-s" title="Link to this heading">#</a></h2>
<p>You should now see a list of users. These users will be a member of the
“Yubikey” group. Note that there are no others users in the list.</p>
<p>To assign a Yubikey, you will need.. you guessed it, a Yubikey. Click
the “Assign Yubikey” button</p>
<p>You will need to provide the username of one of your Users. For example,
I have used “euser1”</p>
<p>You will also need to provide an OTP from the Yubikey you wish to
assign. Insert the Yubikey into a USB socket, and press the Golden
button once the light comes on. (Press for 1 second).</p>
<p>Pressing the Yubikey will also issue the “Enter” key command. So it
should complete the process itself. If for some reason it does not,
click the “Create” button.</p>
<p>Now lets go back to our Users/Group list. Click “YubiRADIUS Virtual
Appliance” on the left side panel, and then click on your domain.</p>
<p>Your Users/Group list will now show you have assigned One Yubikey</p>
<p>See attached screen shot</p>
<figure class="align-default" id="id3">
<img alt="UserList.png" src="../_images/UserList.png" />
<figcaption>
<p><span class="caption-text">UserList.png</span><a class="headerlink" href="#id3" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="step-9-verify-your-user-s-radius-authentication">
<h2>Step 9. Verify your User’s Radius authentication.<a class="headerlink" href="#step-9-verify-your-user-s-radius-authentication" title="Link to this heading">#</a></h2>
<p>Click “YubiRADIUS Virtual Appliance” on the left side panel once more,
then click the “Troubleshoot” tab.</p>
<p>In the “RadTest” section, enter the username, password and OTP (another
1 second press of the yubikey” and click the “Send Request” button.</p>
<p>This should successfully validate your radius, your OTP with the
YubiCloud service hosted by Yubico, as well as your username and
password credentials.</p>
<p>See attached screen shot</p>
<figure class="align-default" id="id4">
<img alt="RedTest.png" src="../_images/RedTest.png" />
<figcaption>
<p><span class="caption-text">RedTest.png</span><a class="headerlink" href="#id4" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>You can see here that the user’s password and OTP are joined together.
The Example User1’s password is RedHat123, and the OTP consists of the
KeyID + a OTP.</p>
<p>That’s it folks. You can now use the YubiRadius to authenticate normal
Radius requests with your Yubikey as Two Factor Authentication</p>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-create-our-group-to-be-used-for-user-validation">Step 1. Create our Group to be used for user validation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-add-users-to-your-new-group">Step 2. Add users to your new group.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-create-an-ldap-bind-account">Step 3, Create an LDAP bind account.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-add-your-yubiradius-server-s-hostname-to-our-dns-environment-if-you-are-using-ipa-to-manage-your-dns-do-the-following">Step 4. Add your YubiRadius server’s hostname to our DNS environment. If you are using IPA to manage your DNS, do the following.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-start-to-configure-your-yubiradius-through-the-webmin-management-page">Step 5. Start to configure your YubiRadius through the webmin management page.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-6-create-a-domain">Step 6. Create a domain.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-7-import-users-from-freeipa">Step 7. Import Users from FreeIPA</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-8-assign-yubikey-s-to-your-user-s">Step 8. Assign Yubikey(s) to your User(s)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-9-verify-your-user-s-radius-authentication">Step 9. Verify your User’s Radius authentication.</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By FreeIPA Team
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023, FreeIPA Team.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>