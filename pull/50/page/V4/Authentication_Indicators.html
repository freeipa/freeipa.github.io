
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Authentication_Indicators &#8212; FreeIPA  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'page/V4/Authentication_Indicators';</script>
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><a class="navbar-brand logo" href="/">
    <img src="https://raw.githubusercontent.com/freeipa/freeipa.github.io/main/src/_static/freeipa-logo-small.png" class="logo__image" alt="Logo image" />
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><div class="sidebar-primary-item">
    <nav class="bd-links" id="bd-docs-nav" aria-label="Main">
        <div class="bd-toc-item navbar-nav active">
            <ul class="nav bd-sidenav">
                <li class="toctree-l1"><a class="reference internal" href="/About.html">About</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Contribute.html">Contribute</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/page/Documentation.html">Documentation</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/page/Troubleshooting.html">Troubleshooting</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Downloads.html">Downloads</a></li>
            </ul>
        </div>
    </nav>
</div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/page/V4/Authentication_Indicators.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Authentication_Indicators</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-cases">Use Cases</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#strong-authentication-on-selected-system">Strong Authentication on Selected System</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#user-story">User story</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#description">Description</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#design">Design</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">Background</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#enable-optional-otp-preauth">Enable Optional OTP Preauth</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#server-side">Server Side</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#client-side">Client Side</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#insert-authentication-indicators-during-authentication-asreq">Insert Authentication Indicators During Authentication (ASReq)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-authentication-indicators-during-ticket-issuance-tgsreq">Verify Authentication Indicators During Ticket Issuance (TGSReq)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementation">Implementation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#otprequired-bind-control">OTPRequired Bind Control</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kdb-string-attributes">KDB String Attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-management">Feature Management</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#upgrades">Upgrades</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting">Troubleshooting</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-test">How to Test</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#test-plan">Test Plan</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="authentication-indicators">
<h1>Authentication_Indicators<a class="headerlink" href="#authentication-indicators" title="Link to this heading">#</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>Users can authenticate to Kerberos in FreeIPA using many different
mechanism (i.e. Password, Password+OTP, RADIUS, etc.). Each mechanism
represents a different authentication strength. Similarly, Kerberos
enabled services had varying degrees of security sensitive content. It
would be valuable if services could specify that they require certain
authentication methods. This would permit, for example, the strongest
authentication methods to be used across all the services while not
allowing weaker authentication methods to have access to security
critical services.</p>
<p>This project enables authentication methods to insert tags, called
Authentication Indicators, into the TGT based upon the types of
authentication that are used. Service principals can then define a set
of authentication indicators which are required in order to obtain a
ticket for the service.</p>
</section>
<section id="use-cases">
<h2>Use Cases<a class="headerlink" href="#use-cases" title="Link to this heading">#</a></h2>
</section>
<section id="strong-authentication-on-selected-system">
<h2>Strong Authentication on Selected System<a class="headerlink" href="#strong-authentication-on-selected-system" title="Link to this heading">#</a></h2>
<section id="user-story">
<h3>User story<a class="headerlink" href="#user-story" title="Link to this heading">#</a></h3>
<p>As an Administrator, I want to setup authentication to a critical system
in my infrastructure (gateway VPN, accounting system) to only allow IdM
users authenticated via strong authentication methods (2FA). I do not
want to require strong authentication on other systems.</p>
</section>
<section id="description">
<h3>Description<a class="headerlink" href="#description" title="Link to this heading">#</a></h3>
<p>A realm has two servers configured for ssh which use the following
principals configured with authentication indicators:</p>
<ul class="simple">
<li><p>host/lowsecurity.example.com []</p></li>
<li><p>host/highesecurity.example.com [otp radius]</p></li>
</ul>
<p>When the administrator logs in using both his password and an OTP token,
he can access both systems via ssh. However, when the administrator logs
in using just a password, he can only access lowsecurity.example.com.</p>
</section>
</section>
<section id="design">
<h2>Design<a class="headerlink" href="#design" title="Link to this heading">#</a></h2>
</section>
<section id="background">
<h2>Background<a class="headerlink" href="#background" title="Link to this heading">#</a></h2>
<p>The IETF draft for Authentication Indicators is available here:
<a class="reference external" href="https://tools.ietf.org/html/draft-jain-kitten-krb-auth-indicator-01">https://tools.ietf.org/html/draft-jain-kitten-krb-auth-indicator-01</a></p>
<p>The MIT Kerberos project for Authentication Indicators is available
here: <a class="reference external" href="http://k5wiki.kerberos.org/wiki/Projects/Authentication_indicator">http://k5wiki.kerberos.org/wiki/Projects/Authentication_indicator</a></p>
<p>MIT Kerberos now contains all the plumbing for Authentication Indicators
as of the 1.14 release. Our changes are mostly limited to the kdb plugin
and the UI/CLI.</p>
</section>
<section id="id1">
<h2>Overview<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<figure class="align-default" id="id2">
<img alt="Indicators.png" src="../../_images/Indicators.png" />
<figcaption>
<p><span class="caption-text">Indicators.png</span><a class="headerlink" href="#id2" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="enable-optional-otp-preauth">
<h2>Enable Optional OTP Preauth<a class="headerlink" href="#enable-optional-otp-preauth" title="Link to this heading">#</a></h2>
<section id="server-side">
<h3>Server Side<a class="headerlink" href="#server-side" title="Link to this heading">#</a></h3>
<p>Currently, if OTP is enabled for a user (even optionally), only the otp
preauth mechanism is returned. Once we have authentication indicators,
it is the otp preauth mechanism that will set the indicator. Thus, we
have to disallow 1FA through the otp preauth module so that only 2FA
authentications get a 2FA indicator.</p>
<p>To accomplish this, we have ipa-otpd set a critical control during its
bind operation which indicates to the server that an OTP MUST be
validated for authentication to succeed. If the server does not support
this control, the bind will fail. If the server does support the control
but is unable to validate an OTP, the bind will fail. The bind control
has the following OID: TBD.</p>
<p>Once authentications through ipa-otpd enforce the presence of a second
factor, we can enable other preauthentication mechanisms (encrypted
challenge/timestamp) for 1FA.</p>
</section>
<section id="client-side">
<h3>Client Side<a class="headerlink" href="#client-side" title="Link to this heading">#</a></h3>
<p>The kinit utility should work out of the box. Versions that did not
support OTP previously failed authentication. However, with the above
server change these clients now work for 1FA only. Further, clients
without FAST enabled will now be able to obtain a 1FA ticket; enabling
them to step up to 2FA by enabling FAST with their 1FA ticket. Finally,
clients that both understand OTP and have FAST enabled will chose the
first mechanism returned from the server; which is OTP. This is probably
the best behavior we can expect from kinit.</p>
<p>SSSD will have to learn how to handle receiving both encrypted challenge
and OTP when FAST is present. Currently, it should force the use of OTP.
We need to make this optional.</p>
</section>
</section>
<section id="insert-authentication-indicators-during-authentication-asreq">
<h2>Insert Authentication Indicators During Authentication (ASReq)<a class="headerlink" href="#insert-authentication-indicators-during-authentication-asreq" title="Link to this heading">#</a></h2>
<p>Once the above task is done, we can start inserting authentication
indicators. This is a simple configuration change to the KDB plugin to
return a specially formatted user string for the otp preauthentication
mechanism.</p>
</section>
<section id="verify-authentication-indicators-during-ticket-issuance-tgsreq">
<h2>Verify Authentication Indicators During Ticket Issuance (TGSReq)<a class="headerlink" href="#verify-authentication-indicators-during-ticket-issuance-tgsreq" title="Link to this heading">#</a></h2>
<p>During a TGS request, the KDC will load the service principal from KDB
like normal. In this case, we simply need to return a tl_data string
with the key as “require_auth” and the value a space separated list of
authentication indicators. This will be stored in LDAP as the optional
multi-valued attribute krbPrincipalAuthInd on krbPrincipal objects. This
will require a patch to the upstream LDAP KDB plugin’s schema to support
this new attribute. It will also require a patch to FreeIPA’s KDB to
support this new schema.</p>
<p>Once the KDC has a list of acceptable indicators, it can make the proper
policy evaluation.</p>
</section>
<section id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>New Dependencies</p></th>
<th class="head"><p>Backup and Restore</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>krb5 &gt;= 1.14.0 (freeipa-server only)</p></td>
<td><p>N/A</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="otprequired-bind-control">
<h2>OTPRequired Bind Control<a class="headerlink" href="#otprequired-bind-control" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>OID</p></th>
<th class="head"><p>Contents</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TBD</p></td>
<td><p>None (empty)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="kdb-string-attributes">
<h2>KDB String Attributes<a class="headerlink" href="#kdb-string-attributes" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Principal Type</p></th>
<th class="head"><p>Configuration</p></th>
<th class="head"><p>Key</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>User (AS Req)</p></td>
<td><p>RADIUS</p></td>
<td><p>otp</p></td>
<td><p>[{“indicators”: [“radius”]}]</p></td>
</tr>
<tr class="row-odd"><td><p>User (AS Req)</p></td>
<td><p>OTP</p></td>
<td><p>otp</p></td>
<td><p>[{“indicators”: [“otp”]}]</p></td>
</tr>
<tr class="row-even"><td><p>Service (TGS Req)</p></td>
<td><p>N/A</p></td>
<td><p>require_auth</p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="feature-management">
<h2>Feature Management<a class="headerlink" href="#feature-management" title="Link to this heading">#</a></h2>
<p>UI</p>
<p>Services should gain checkboxes for the required authentication
indicators.</p>
<p>CLI</p>
<p>Overview of the CLI commands. Example:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Options</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>service-add</p></td>
<td><p>–auth-ind=[‘otp’, ‘radius’]</p></td>
</tr>
<tr class="row-odd"><td><p>service-mod</p></td>
<td><p>–auth_ind=[‘otp’, ‘radius’]</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="upgrades">
<h2>Upgrades<a class="headerlink" href="#upgrades" title="Link to this heading">#</a></h2>
<p>Upgrades will need to learn the new schema.</p>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">#</a></h2>
<p>TBD</p>
</section>
<section id="how-to-test">
<h2>How to Test<a class="headerlink" href="#how-to-test" title="Link to this heading">#</a></h2>
<p>Easy to follow instructions how to test the new feature. FreeIPA user
needs to be able to follow the steps and demonstrate the new features.</p>
<p>The chapter may be divided in sub-sections per <a class="reference external" href="#Use_Cases">Use
Case</a>.</p>
</section>
<section id="test-plan">
<h2>Test Plan<a class="headerlink" href="#test-plan" title="Link to this heading">#</a></h2>
<p>Test scenarios that will be transformed to test cases for FreeIPA
<a class="reference external" href="V3/Integration_testing">Continuous Integration</a> during
implementation or review phase. This can be also link to <a class="reference external" href="https://git.fedorahosted.org/cgit/freeipa.git/">source in
cgit</a> with the test,
if appropriate.</p>
<p><a class="reference external" href="V4/Authentication_Indicators/Test_Plan">Authentication Indicators V4.4 test
plan</a></p>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-cases">Use Cases</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#strong-authentication-on-selected-system">Strong Authentication on Selected System</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#user-story">User story</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#description">Description</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#design">Design</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">Background</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#enable-optional-otp-preauth">Enable Optional OTP Preauth</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#server-side">Server Side</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#client-side">Client Side</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#insert-authentication-indicators-during-authentication-asreq">Insert Authentication Indicators During Authentication (ASReq)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-authentication-indicators-during-ticket-issuance-tgsreq">Verify Authentication Indicators During Ticket Issuance (TGSReq)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementation">Implementation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#otprequired-bind-control">OTPRequired Bind Control</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kdb-string-attributes">KDB String Attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-management">Feature Management</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#upgrades">Upgrades</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting">Troubleshooting</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-test">How to Test</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#test-plan">Test Plan</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By FreeIPA Team
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023, FreeIPA Team.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>