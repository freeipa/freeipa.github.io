
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Python_Coding_Style &#8212; FreeIPA  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'page/Python_Coding_Style';</script>
    <link rel="icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><a class="navbar-brand logo" href="/">
    <img src="https://raw.githubusercontent.com/freeipa/freeipa.github.io/main/src/_static/freeipa-logo-small.png" class="logo__image" alt="Logo image" />
</a>
<div class="sidebar-primary-item">
    <nav class="bd-links" id="bd-docs-nav" aria-label="Main">
        <div class="bd-toc-item navbar-nav active">
            <ul class="nav bd-sidenav">
                <li class="toctree-l1"><a class="reference internal" href="/About.html">About</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Contribute.html">Contribute</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/page/Documentation.html">Documentation</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/page/Troubleshooting.html">Troubleshooting</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Downloads.html">Downloads</a></li>
            </ul>
        </div>
    </nav>
</div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/page/Python_Coding_Style.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Python_Coding_Style</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Python_Coding_Style</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#python-version">Python version</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Python coding style</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#python-unit-testing">Python unit testing</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#python-api-documentation">Python API documentation</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#python-internationalized-i18n-strings">Python Internationalized (i18n) Strings</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#python-docstrings">Python docstrings</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#unused-dummy-variables">Unused (dummy) variables</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="python-coding-style">
<h1>Python_Coding_Style<a class="headerlink" href="#python-coding-style" title="Link to this heading">#</a></h1>
<p>This page outlines standards for <a class="reference external" href="http://python.org/">Python</a> code
contributed to freeIPA v2 and beyond.</p>
</section>
<section id="python-version">
<h1>Python version<a class="headerlink" href="#python-version" title="Link to this heading">#</a></h1>
<p>In the FreeIPA master branch and branches &gt;= 3.0.0, we require at least
Python 2.7. This permits the use of set literals, dict and set
comprehensions, and <a class="reference external" href="https://docs.python.org/dev/whatsnew/2.7.html">many other
features</a>.</p>
</section>
<section id="id1">
<h1>Python coding style<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<p>Although Python’s syntax enforces quite a lot of stylistic consistency,
there is still much wiggle room, so a style guide will help keep us
productive and happy.</p>
<p>Fortunately, thanks to the “Benevolent Dictator For Life” (Guido van
Rossum, the author of Python), there is only one coding style for
Python, which is defined in PEP-8 and PEP-257:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.python.org/dev/peps/pep-0008">PEP 8: Style Guide for Python
Code</a></p></li>
<li><p><a class="reference external" href="http://www.python.org/dev/peps/pep-0257">PEP 257: Docstring
Conventions</a></p></li>
</ul>
</section>
<section id="python-unit-testing">
<h1>Python unit testing<a class="headerlink" href="#python-unit-testing" title="Link to this heading">#</a></h1>
<p>All the Python unit testing is being done using <em>nose</em>:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://somethingaboutorange.com/mrl/projects/nose/">nose: a discovery-based unittest
extension</a></p></li>
</ul>
<p>nose was chosen because it allows unit tests to be written very quickly
and in a quite natural and flexible manner.</p>
<p>All the unit tests should be located in the <code class="docutils literal notranslate"><span class="pre">tests/</span></code> directory in the
source tree.</p>
</section>
<section id="python-api-documentation">
<h1>Python API documentation<a class="headerlink" href="#python-api-documentation" title="Link to this heading">#</a></h1>
<p>We are generating API documentation using the <em>Epydoc</em> tool:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://epydoc.sourceforge.net">Epydoc: Automatic API Documentation Generation for
Python</a></p></li>
</ul>
<p>The Epydoc generated documentation is an excellent way to learn the v2
code base, particularly because all the cross-references are
hyper-linked. Up-to-date documentation is always available on
freeipa.org:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://freeipa.org/developer-docs/">freeIPA Python API
documentation</a></p></li>
<li><p><a class="reference external" href="http://freeipa.org/developer-docs/ipalib-module.html">Tutorial for Plugin
Authors</a></p></li>
</ul>
</section>
<section id="python-internationalized-i18n-strings">
<h1>Python Internationalized (i18n) Strings<a class="headerlink" href="#python-internationalized-i18n-strings" title="Link to this heading">#</a></h1>
<p>If the string will be internationalized (e.g. is marked with _()) and
it has more than one format substitution you <strong>MUST</strong> use <em>named</em> format
specifiers, not positional format specifiers.</p>
<p>Here is an example of incorrect usage with positional substitution:</p>
<p>`` _(‘item %s has %s value’) % (name, value)``</p>
<p>Here is the correct usage using named substitution:</p>
<p>`` _(‘item %(name)s has %(value)s value’) % {‘name’:name, ‘value’:value}``</p>
<p>-or-</p>
<p>`` _(‘item %(name)s has %(value)s value’) % dict(name=name, value=value}``</p>
<p>Why does this matter? Word ordering is locale dependent. Translators
need the flexibility to reorder the words in the string. If you use
positional format substitutions the translator can’t reorder the
wording. However, if you use named format substitutions the translator
has the freedom to reorder the wording. Try to pick names for the for
format specifiers which will provide hints to the translator as to
meaning of the substitution.</p>
</section>
<section id="python-docstrings">
<h1>Python docstrings<a class="headerlink" href="#python-docstrings" title="Link to this heading">#</a></h1>
<p>We are using <em>reStructuredText</em> markup in the docstrings, which you can
read about here:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText: Markup Syntax and Parser Component of
Docutils</a></p></li>
</ul>
<p>There is considerable example code included in the docstrings. All these
examples are automatically tested using the Python doctest module:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://docs.python.org/library/doctest.html">doctest: Test interactive Python
examples</a></p></li>
</ul>
<p>We are relying on nose to automatically discover all the code examples
and then to test them with doctest. This is done using the
<code class="docutils literal notranslate"><span class="pre">--with-doctest</span></code> option, like this:</p>
<p><code class="docutils literal notranslate"><span class="pre">nosetests</span> <span class="pre">--with-doctest</span></code></p>
</section>
<section id="unused-dummy-variables">
<h1>Unused (dummy) variables<a class="headerlink" href="#unused-dummy-variables" title="Link to this heading">#</a></h1>
<p>We want to avoid unused variables in code as much as possible. In case
you need to use a variable that has no further use (iteration, tuple
unpacking) then this variable must start with an underscore character
(‘_’). The Pylint check for unused variables has been enabled and such
dummy variables must match the regular expression ‘_.+’ otherwise they
are reported as errors.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">,</span> <span class="n">_weight</span><span class="p">,</span> <span class="n">age</span> <span class="o">=</span> <span class="n">human</span><span class="p">[</span><span class="s1">&#39;John&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
</pre></div>
</div>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Python_Coding_Style</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#python-version">Python version</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Python coding style</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#python-unit-testing">Python unit testing</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#python-api-documentation">Python API documentation</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#python-internationalized-i18n-strings">Python Internationalized (i18n) Strings</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#python-docstrings">Python docstrings</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#unused-dummy-variables">Unused (dummy) variables</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By FreeIPA Team
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023, FreeIPA Team.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>