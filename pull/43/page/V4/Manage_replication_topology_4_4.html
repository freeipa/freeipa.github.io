
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Manage_replication_topology_4_4 &#8212; FreeIPA  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=384b581d" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'page/V4/Manage_replication_topology_4_4';</script>
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><a class="navbar-brand logo" href="/">
    <img src="https://raw.githubusercontent.com/freeipa/freeipa.github.io/main/src/_static/freeipa-logo-small.png" class="logo__image" alt="Logo image" />
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><div class="sidebar-primary-item">
    <nav class="bd-links" id="bd-docs-nav" aria-label="Main">
        <div class="bd-toc-item navbar-nav active">
            <ul class="nav bd-sidenav">
                <li class="toctree-l1"><a class="reference internal" href="/About.html">About</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Contribute.html">Contribute</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/page/Documentation.html">Documentation</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/page/Troubleshooting.html">Troubleshooting</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Downloads.html">Downloads</a></li>
            </ul>
        </div>
    </nav>
</div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/page/V4/Manage_replication_topology_4_4.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Manage_replication_topology_4_4</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-cases">Use Cases</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#design">Design</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ipa-cs-replica-manange-changes">ipa(cs)replica manange changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ipa-csreplica-manage">ipa-csreplica-manage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ipa-replica-manage">ipa-replica-manage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#server-del"><code class="docutils literal notranslate"><span class="pre">server_del</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uninstallation">uninstallation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementation">Implementation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-management">Feature Management</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topology-graph">Topology graph</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#server-management">Server management</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration">Configuration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-test">How to Test</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#test-plan">Test Plan</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="manage-replication-topology-4-4">
<h1>Manage_replication_topology_4_4<a class="headerlink" href="#manage-replication-topology-4-4" title="Link to this heading">#</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>Centralized topology management was one of the main features of <a class="reference external" href="Releases/4.3.0">4.3.0
release</a>. Management of topology is working but user
experience is not at a desired level. This document covers missing parts
of topology management to be implemented in 4.4 release.</p>
</section>
<section id="use-cases">
<h2>Use Cases<a class="headerlink" href="#use-cases" title="Link to this heading">#</a></h2>
<p>Same as in <a class="reference external" href="V4/Manage_replication_topology">original design</a>.</p>
</section>
<section id="design">
<h2>Design<a class="headerlink" href="#design" title="Link to this heading">#</a></h2>
<p>Extends <a class="reference external" href="V4/Manage_replication_topology">original design</a>. Main
topics are:</p>
<ul class="simple">
<li><p>improvement of Web UI topology graph to be usable with bigger number
of IPA servers</p></li>
<li><p>continue with deprecating of <code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span></code> and
<code class="docutils literal notranslate"><span class="pre">ipa-csreplica-manage</span></code> for day to day topology management. The
direction was discussed in freeipa-devel thread <a class="reference external" href="https://www.redhat.com/archives/freeipa-devel/2015-October/msg00454.html">Fate of
ipa-replica-manage and ipa-csreplica-manage
tools</a>.</p></li>
</ul>
</section>
<section id="ipa-cs-replica-manange-changes">
<h2>ipa(cs)replica manange changes<a class="headerlink" href="#ipa-cs-replica-manange-changes" title="Link to this heading">#</a></h2>
<p>The long term plan is to completely deprecate <code class="docutils literal notranslate"><span class="pre">ipa-csreplica-manage</span></code>
tool. <code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span></code> will be used only for management of winsync
agreements, assuming domain level 1.</p>
</section>
<section id="ipa-csreplica-manage">
<h2>ipa-csreplica-manage<a class="headerlink" href="#ipa-csreplica-manage" title="Link to this heading">#</a></h2>
<p>The only remaining goal before depracation is to transform
<code class="docutils literal notranslate"><span class="pre">set-renewal-master</span></code> into an API command. It will be done according to
<a class="reference external" href="V4/Server_Roles">server roles design page</a>. <a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5689">ticket
#5689</a></p>
</section>
<section id="ipa-replica-manage">
<h2>ipa-replica-manage<a class="headerlink" href="#ipa-replica-manage" title="Link to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">del</span></code>: FreeIPA 4.3 changes allows to transform <code class="docutils literal notranslate"><span class="pre">del</span></code> command into an
API method: <code class="docutils literal notranslate"><span class="pre">server_del</span></code>.
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5588">#5588</a>.
<code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span></code> should call this API method on domain level 1 for
backwards compatibility. This new API command should be then used in
<code class="docutils literal notranslate"><span class="pre">ipa-server-install</span> <span class="pre">--uninstall</span></code>, more details below.</p>
<p><code class="docutils literal notranslate"><span class="pre">clean-dangling-ruvs</span></code>: description at <a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5411#comment:7">ticket
#5411</a></p>
<p><code class="docutils literal notranslate"><span class="pre">list-ruv/clean-ruv</span></code>: extend the commands’ default behavior so that
they search both ca and domain trees to list/clean from them. <a class="reference external" href="https://fedorahosted.org/freeipa/ticket/4987">ticket
#4987</a>. It is to
support the new <code class="docutils literal notranslate"><span class="pre">clean-dangling-ruvs</span></code> subcommand.</p>
<p><code class="docutils literal notranslate"><span class="pre">abort-clean-ruv</span></code>: Should work with both suffixes. It should
find/check existence of the task first and then abort it. It should make
use of the proposed `replica-force-cleaning: yes` <a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5396">ticket
#5396</a> so that it won’t
hang if a replica is shut down.</p>
<p>Non goals in FreeIPA 4.4 release:</p>
<ul class="simple">
<li><p>move DNA ranges management to API</p></li>
<li><p>modify re-initialize and force-sync commands of both tools.</p></li>
</ul>
</section>
<section id="server-del">
<h2><code class="docutils literal notranslate"><span class="pre">server_del</span></code><a class="headerlink" href="#server-del" title="Link to this heading">#</a></h2>
<p>New API method, will do the same as current <code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span> <span class="pre">del</span></code>
on domain level 1. It will work only with domain level 1 because domain
level 0 requires also to connect to other servers.</p>
<p>Arguments and options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">server</span></code> - argument, server to be deleted</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--force</span></code> - should be allowed to call the method even if it was
already removed. Should perform cleaning tasks. If server was not
deleted, <code class="docutils literal notranslate"><span class="pre">--force</span></code> doesn’t have any additional meaning. This will
be a simplification of <code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span> <span class="pre">del</span> <span class="pre">--force</span> <span class="pre">--clean</span></code> The
difference is that <code class="docutils literal notranslate"><span class="pre">--force</span></code> won’t skip topology disconnection
check and last services check.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--ignore-topology-disconnect</span></code> Will skip topology disconnection
check.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--ignore-last-services</span></code> Will skip last services check.</p></li>
</ul>
</section>
<section id="uninstallation">
<h2>uninstallation<a class="headerlink" href="#uninstallation" title="Link to this heading">#</a></h2>
<p>In the past uninstallation was 2-3 step process:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ipa-csreplica-manage</span> <span class="pre">del</span></code> (applicable only if the deleted master
has CA)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span> <span class="pre">del</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ipa-server-install</span> <span class="pre">--uninstall</span></code></p></li>
</ol>
<p>Centralized topology management and changes done in
<code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span> <span class="pre">del</span></code> in FreeIPA 4.3 allows to skip step 1. From
personal experience and post on FreeIPA users list step 1 and 2 are
often forgotten. Fortunately centralized topology management allows to
move <code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span> <span class="pre">del</span></code> into an API command. It allows to use it
from <code class="docutils literal notranslate"><span class="pre">ipa-server-install</span> <span class="pre">--uninstall</span></code>. I.e. the uninstallation process
can be simplified into a single command:
<code class="docutils literal notranslate"><span class="pre">ipa-server-install</span> <span class="pre">--uninstall</span></code></p>
<p>Proposal: <code class="docutils literal notranslate"><span class="pre">ipa-server-install</span> <span class="pre">--uninstall</span></code> should connect to API of
different master with host credential and call <code class="docutils literal notranslate"><span class="pre">server-del</span></code> command.
It should be done after initial validation. <a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5588">ticket
#5588</a>. The reason is
that replica cleanup method removes DNS records and server keytabs.
Doing it on the to-be uninstalled server would be racy - some of the
changes wouldn’t be replicated.</p>
</section>
<section id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Link to this heading">#</a></h2>
<p>Move of <code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span> <span class="pre">del</span></code> to API command requires little
refactoring - ipa-replica-manage prints to output directly but IPA
method doesn’t do it. Additional change is to adjust ACIs and cleanup
method so that <code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">server-del</span></code> can be called with host credentials.</p>
</section>
<section id="feature-management">
<h2>Feature Management<a class="headerlink" href="#feature-management" title="Link to this heading">#</a></h2>
<p>UI</p>
<section id="topology-graph">
<h3>Topology graph<a class="headerlink" href="#topology-graph" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="V4/Manage_replication_topology">4.3 release</a> came with topology
graph component. It is hard to use with higher number of replicas.
Canvas has a static size. It doesn’t work well on small screens and
doesn’t take benefit of bigger screens. Will be fixed by resizing canvas
size to a size of its container
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5647">#5647</a>. It will create
a little drawback - higher number of replicas might not fit into a
smaller canvas and also while the canvas is shrank, some of the nodes
will be hidden. Therefore panning and zooming of canvas is required
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5502">#5502</a>.</p>
<p>D3 force layout used in the canvas positions the nodes using force
simulation. The layout is different on each refresh. It makes impossible
to create a mental picture of the topology because position of a node is
always different. With following graph features: node can be dragged by
mouse. Graph supports switching nodes between static and float position.
Node’s position when layout is static is stored into <code class="docutils literal notranslate"><span class="pre">localStorage</span></code>.
User can then create his own design which is persisted across browser
session(but still limited to the browser instance). It is actually a
desired state but a path to get there is cumbersome because user has to
double click on each individual node. The initial layout can’t start
with static mode because UI doesn’t know position of nodes so starting
with float mode is required. Issue will be solved by switching all nodes
to static position after initial layout is done. E.g. it can be about
5s(better value should be found during implementation, e.g. it can be
computed). UI should provide a way to re-init the layout: a
<code class="docutils literal notranslate"><span class="pre">reset</span> <span class="pre">layout</span></code> button.</p>
<p>Topology segments(links between nodes) are created using adder dialog.
It is initiated by <code class="docutils literal notranslate"><span class="pre">add</span></code> button. This is solution is standard in Web
UI but in this case it doesn’t work very well. User sees which nodes he
wants to connect but then he needs to remember the nodes names, find it
in the dialog, choose suffix and add. It is slow. UI should provide an
interactive way to create the segment. Proposal is to drag-drop mouse
from one node to another
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5648">#5648</a>. This move will
identify the two nodes and open the dialog. Right now it conflicts with
dragging node on a canvas. There should be a switch between dragging
node and creation connection.</p>
<p>Nice to have: segment name field in segment adder dialog should have a
placeholder set to “autogenerated”.</p>
<p>Summary:</p>
<ul class="simple">
<li><p>resize canvas on window resize to fill its container
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5647">#5647</a></p></li>
<li><p>implement pan&amp;zoom of canvas
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5502">#5502</a></p></li>
<li><p>switch position of nodes to “static” after initial layout of nodes
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5649">#5649</a></p></li>
<li><p>implement creation of topology segment by dragging from left node to
right node <a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5548">#5548</a></p></li>
<li><p>set placeholder in segment adder dialog
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5867">#5867</a></p></li>
</ul>
<p>Server roles won’t be displayed in the topology graph in 4.4 release.</p>
</section>
<section id="server-management">
<h3>Server management<a class="headerlink" href="#server-management" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Leverage server roles design. Server details page should contain
<code class="docutils literal notranslate"><span class="pre">set-renewal-master</span></code> action in action list.
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5689">#5689</a></p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">delete</span></code> action to server details page. It will call
<code class="docutils literal notranslate"><span class="pre">server_del</span></code> API method. There has to be a confirmation window with
a red(i.e. destroy action) confirm button with label <em>Delete IPA
server</em>. <a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5588">#5588</a></p></li>
</ul>
<p>CLI</p>
<p>Overview of new or modified CLI commands.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Options</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ipa server-del</p></td>
<td><p>–force –ignore-last-services
–ignore-topology-disconnect</p></td>
</tr>
<tr class="row-odd"><td><p>ipa config-mod</p></td>
<td><p>–ca-re
newal-master=server1.example.com</p></td>
</tr>
<tr class="row-even"><td><p>ipa replica-manage
clean-dangling-ruvs</p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">#</a></h2>
<p>Nothing new.</p>
</section>
<section id="how-to-test">
<h2>How to Test<a class="headerlink" href="#how-to-test" title="Link to this heading">#</a></h2>
<p>Easy to follow instructions how to test the new feature. FreeIPA user
needs to be able to follow the steps and demonstrate the new features.</p>
<p>The chapter may be divided in sub-sections per <a class="reference external" href="#Use_Cases">Use
Case</a>.</p>
</section>
<section id="test-plan">
<h2>Test Plan<a class="headerlink" href="#test-plan" title="Link to this heading">#</a></h2>
<p>Test scenarios that will be transformed to test cases for FreeIPA
<a class="reference external" href="V3/Integration_testing">Continuous Integration</a> during
implementation or review phase. This can be also link to <a class="reference external" href="https://git.fedorahosted.org/cgit/freeipa.git/">source in
cgit</a> with the test,
if appropriate.</p>
<p><a class="reference external" href="V4/Manage_replication_topology_4_4/Test_Plan">Manage replication topology V4.4 test
plan</a></p>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-cases">Use Cases</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#design">Design</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ipa-cs-replica-manange-changes">ipa(cs)replica manange changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ipa-csreplica-manage">ipa-csreplica-manage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ipa-replica-manage">ipa-replica-manage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#server-del"><code class="docutils literal notranslate"><span class="pre">server_del</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uninstallation">uninstallation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementation">Implementation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-management">Feature Management</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topology-graph">Topology graph</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#server-management">Server management</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration">Configuration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-test">How to Test</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#test-plan">Test Plan</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By FreeIPA Team
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023, FreeIPA Team.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>