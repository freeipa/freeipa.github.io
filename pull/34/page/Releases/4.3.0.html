
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Highlights in 4.3.0 &#8212; FreeIPA  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=384b581d" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'page/Releases/4.3.0';</script>
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><a class="navbar-brand logo" href="/">
    <img src="https://raw.githubusercontent.com/freeipa/freeipa.github.io/main/src/_static/freeipa-logo-small.png" class="logo__image" alt="Logo image" />
</a>
<div class="sidebar-primary-item">
    <nav class="bd-links" id="bd-docs-nav" aria-label="Main">
        <div class="bd-toc-item navbar-nav active">
            <ul class="nav bd-sidenav">
                <li class="toctree-l1"><a class="reference internal" href="/About.html">About</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Contribute.html">Contribute</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/page/Documentation.html">Documentation</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/page/Troubleshooting.html">Troubleshooting</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Downloads.html">Downloads</a></li>
            </ul>
        </div>
    </nav>
</div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/page/Releases/4.3.0.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Highlights in 4.3.0</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Highlights in 4.3.0</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#domain-level">Domain Level</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#replica-installation">Replica installation</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#old-method-domain-level-0">Old method - domain level 0</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-method-domain-level-1">New method - domain level 1</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#promotion-of-existing-client">1. Promotion of existing client</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-of-replica-on-non-freeipa-client-machine">2. Installation of replica on non-FreeIPA client machine</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-of-replica-using-one-time-password-otp">3. Installation of replica using one time password(OTP)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-of-replica-using-a-host-keytab">4. Installation of replica using a host keytab</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#managed-replication-topology">Managed Replication Topology</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dns-zone-creation-checks">DNS zone creation checks</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#known-issues">Known Issues</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bug-fixes">Bug fixes</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enhancements">Enhancements</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#upgrading">Upgrading</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#feedback">Feedback</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#detailed-changelog-since-4-2-1">Detailed Changelog since 4.2.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#abhijeet-kasurde-4">Abhijeet Kasurde (4)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#alexander-bokovoy-7">Alexander Bokovoy (7)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#benjamin-drung-3">Benjamin Drung (3)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#christian-heimes-18">Christian Heimes (18)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#david-kupka-22">David Kupka (22)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#endi-sukma-dewata-6">Endi Sukma Dewata (6)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#francois-cami-1">François Cami (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fraser-tweedale-19">Fraser Tweedale (19)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#gabe-alford-16">Gabe Alford (16)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#jan-cholasta-70">Jan Cholasta (70)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#jan-pazdziora-1">Jan Pazdziora (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lenka-doudova-3">Lenka Doudova (3)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ludwig-krispenz-5">Ludwig Krispenz (5)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lukas-slebodnik-9">Lukáš Slebodník (9)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#martin-babinsky-50">Martin Babinsky (50)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#martin-basti-92">Martin Bašti (92)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#martin-kosek-2">Martin Košek (2)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#michael-simacek-4">Michael Simacek (4)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#milan-kubik-16">Milan Kubík (16)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#nathaniel-mccallum-1">Nathaniel McCallum (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#niranjan-mr-1">Niranjan MR (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#niranjan-mallapadi-1">Niranjan Mallapadi (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#oleg-fayans-9">Oleg Fayans (9)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#petr-viktorin-60">Petr Viktorin (60)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#petr-vobornik-45">Petr Voborník (45)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#petr-spacek-19">Petr Špaček (19)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#rob-crittenden-1">Rob Crittenden (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#robert-kuska-1">Robert Kuska (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#simo-sorce-23">Simo Sorce (23)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stanislav-laznicka-3">Stanislav Laznicka (3)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sumit-bose-3">Sumit Bose (3)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#timo-aaltonen-7">Timo Aaltonen (7)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tomas-babej-59">Tomáš Babej (59)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#yuri-chornoivan-2">Yuri Chornoivan (2)</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <p>The FreeIPA team would like to announce FreeIPA v4.3.0 release!</p>
<p>It can be downloaded from <a class="reference external" href="http://www.freeipa.org/page/Downloads">http://www.freeipa.org/page/Downloads</a>. The
builds are available for Fedora rawhide. Builds for Fedora 23 are
available in the official <a class="reference external" href="https://copr.fedoraproject.org/coprs/mkosek/freeipa-4.3/">COPR
repository</a>.</p>
<section id="highlights-in-4-3-0">
<h1>Highlights in 4.3.0<a class="headerlink" href="#highlights-in-4-3-0" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Simplified management of replication topology - control and display
your topology from CLI and UI (<a class="reference external" href="V4/Manage_replication_topology">design
page</a>)</p></li>
<li><p>Simplified replica installation - install replica without <em>replica
package</em> via OTP, keytab or privileged user credentials. The new
method is called <em>replica promotion</em> as it adds FreeIPA server
capability to existing or new client (<a class="reference external" href="V4/Replica_Promotion">design
page</a>)</p></li>
</ul>
</section>
<section id="domain-level">
<h1>Domain Level<a class="headerlink" href="#domain-level" title="Link to this heading">#</a></h1>
<p>Both feature sets are tight with introduction of new “server capability
indicator” - a <em>domain level</em> (<a class="reference external" href="V4/Domain_Levels">design page</a>).
Domain level indicates that server is capable of doing certain
operations. Domain level 1 means that it supports replica promotion and
topology management.</p>
<p>Old servers and servers upgraded to 4.3 in existing environments have
domain level 0. In order to use new functionality all servers needs to
be updated to a version which supports the domain level, right now it is
only version 4.3. Domain level is raised by command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ipa</span> <span class="n">domainlevel</span><span class="o">-</span><span class="nb">set</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Current domain can be obtained by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ipa</span> <span class="n">domainlevel</span><span class="o">-</span><span class="n">get</span>
</pre></div>
</div>
<p>Or supported levels of individual FreeIPA servers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ipa server-show $HOSTNAME
</pre></div>
</div>
</section>
<section id="replica-installation">
<h1>Replica installation<a class="headerlink" href="#replica-installation" title="Link to this heading">#</a></h1>
<section id="old-method-domain-level-0">
<h2>Old method - domain level 0<a class="headerlink" href="#old-method-domain-level-0" title="Link to this heading">#</a></h2>
<p>Prior FreeIPA 4.3 replica installation needed to perform actions on both
master and future replica.</p>
<p>First step on master:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ipa-replica-prepare $REPLICA_HOSTNAME --ip-address $REPLICA_IP
</pre></div>
</div>
<p>It created a replica file - an encrypted file containing secrets and
other data needed for replica installation.</p>
<p>Second step on replica:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ipa-replica-install --various-options $REPLICA_FILE
</pre></div>
</div>
<p>Disadvantage is that both <code class="docutils literal notranslate"><span class="pre">ipa-replica-prepared</span></code> and
<code class="docutils literal notranslate"><span class="pre">ipa-replica-install</span></code> need directory manager password and that copying
of the replica file is cumbersome.</p>
<p>Old method is still available for environments with domain level 0.</p>
</section>
<section id="new-method-domain-level-1">
<h2>New method - domain level 1<a class="headerlink" href="#new-method-domain-level-1" title="Link to this heading">#</a></h2>
<p>New method transforms an IPA client into an IPA server. I.e., an IPA
client can be installed first and then it can be “promoted” into an
FreeIPA server - a new replica. Alternatively, replica installer can
also install the client so it can be done in a single operation. New
method doesn’t require to run <code class="docutils literal notranslate"><span class="pre">ipa-replica-prepare</span></code> and manipulate
with replica file. There are multiple ways to install new replica:</p>
<section id="promotion-of-existing-client">
<h3>1. Promotion of existing client<a class="headerlink" href="#promotion-of-existing-client" title="Link to this heading">#</a></h3>
<p>On client which will become new FreeIPA server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ kinit admin
$ ipa-replica-install [--various-options, ...]
</pre></div>
</div>
</section>
<section id="installation-of-replica-on-non-freeipa-client-machine">
<h3>2. Installation of replica on non-FreeIPA client machine<a class="headerlink" href="#installation-of-replica-on-non-freeipa-client-machine" title="Link to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ipa-replica-install --principal admin -W [--various-options, ...]
</pre></div>
</div>
<p>It will ask for admin password, install a client and then promote it to
replica. It will use DNS auto-discovery to locate the master server.
Alternatively the same discovery options as for <code class="docutils literal notranslate"><span class="pre">ipa-client-install</span></code>
can be provided: <code class="docutils literal notranslate"><span class="pre">--server</span></code>, <code class="docutils literal notranslate"><span class="pre">--domain</span></code>, <code class="docutils literal notranslate"><span class="pre">--realm</span></code>.</p>
</section>
<section id="installation-of-replica-using-one-time-password-otp">
<h3>3. Installation of replica using one time password(OTP)<a class="headerlink" href="#installation-of-replica-using-one-time-password-otp" title="Link to this heading">#</a></h3>
<p>On any host with <code class="docutils literal notranslate"><span class="pre">ipa</span></code> command line utility available first prepare
the host entry with One Time Password set and assign it to
<code class="docutils literal notranslate"><span class="pre">ipaservers</span></code> hostgroup to mark it as future IPA server.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ kinit admin
$ ipa host-add $REPLICA_HOSTNAME --password $OTP
$ ipa hostgroup-add-member ipaservers --hosts=$REPLICA_HOSTNAME
</pre></div>
</div>
<p>On future replica:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ipa-replica-install --password $OTP [--various-options, ...]
</pre></div>
</div>
</section>
<section id="installation-of-replica-using-a-host-keytab">
<h3>4. Installation of replica using a host keytab<a class="headerlink" href="#installation-of-replica-using-a-host-keytab" title="Link to this heading">#</a></h3>
<p>Steps are similar as in installation with OTP:</p>
<p>On arbitrary FreeIPA client or server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ kinit admin
$ ipa host-add $REPLICA_HOSTNAME
$ ipa hostgroup-add-member ipaservers --hosts=$REPLICA_HOSTNAME
$ ipa-getkeytab --server=$IPASERVER_HOSTNAME --principal=host/$REPLICA_HOSTNAME@$REALM --keytab=replica_host.keytab
$ # copy the replica_host.keytab  to a replica on $REPLICA_KEYTAB_PATH (arbitrary)
</pre></div>
</div>
<p>On future replica:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ipa-replica-install --keytab  $REPLICA_KEYTAB_PATH [--various-options, ...]
</pre></div>
</div>
</section>
</section>
</section>
<section id="managed-replication-topology">
<h1>Managed Replication Topology<a class="headerlink" href="#managed-replication-topology" title="Link to this heading">#</a></h1>
<p>FreeIPA is a multi-master technology. Data changes on a server are
replicated automatically to all other servers. Data is stored in
Directory Server server in two so-called suffixes: a <code class="docutils literal notranslate"><span class="pre">domain</span></code> suffix,
e.g., <code class="docutils literal notranslate"><span class="pre">dc=example,dc=com</span></code> which contains all domain related
data(users, groups, hbac and sudo rules, …) and, if the setup has CA,
a <code class="docutils literal notranslate"><span class="pre">ca</span></code> suffix(<code class="docutils literal notranslate"><span class="pre">o=ipaca</span></code>) which contains Certificate Server data. IPA
servers, in general, are not connected with all other servers, but
usually with only a few. It means the data is gradually propagated. The
way is defined in Directory Server by so-called replication agreements.
Replication agreements for each suffix need to be managed separately.
Recommended maximum number of agreements on one server is 4 for each
suffix. It is required to manage the topology of replication agreements
correctly so a failure of one server would not disconnect the entire
topology.</p>
<p>FreeIPA 4.2 and older manages the agreements using
<code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span></code> and <code class="docutils literal notranslate"><span class="pre">ipa-csreplica-manage</span></code> tools. The
disadvantage of the tools are:</p>
<ul class="simple">
<li><p>No single single server has data about the whole topology.</p></li>
<li><p>The tools needs to be run on an IPA server -&gt; not possible in CLI or
Web UI.</p></li>
<li><p>The lack of information prevents of proper disconnection checks,
e.g., when a replica or a connection is removed.</p></li>
</ul>
<p>FreeIPA 4.3 introduces a managed topology. The topology is maintained as
data and is replicated to all other servers. It is represented by two
new IPA object types: topology suffixes and topology segments. Topology
suffix represents a Directory Server suffix mentioned above. Topology
segment represents replication agreements between 2 servers. See
<code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">help</span> <span class="pre">topology</span></code> for more information about CLI commands. IPA
servers changes their replication agreements automatically according to
this configuration. It brings following benefits:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ipa</span></code> command line interface and Web UI(located under “IPA
Server/Topology” menu item) can be used to manage the topology from
any place</p></li>
<li><p>Modification of the topology performs a check to prevent
disconnection (a server or a group of servers would not be connected
with rest of the topology).</p></li>
<li><p>Uninstallation of replica using <code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span> <span class="pre">del</span></code> and
<code class="docutils literal notranslate"><span class="pre">ipa-server-install</span> <span class="pre">--uninstall</span></code> tools checks if the uninstallation
would disconnect the topology and refuses to do so.</p></li>
<li><p>Existing topology can be checked for errors using a new
<code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">topologysuffix-verify</span></code> command.</p></li>
<li><p>Web UI comes with new topology graph which visualizes the topology
and allows interactive changes of the topology.</p></li>
<li><p>It will allow to monitor state of replication in a future.</p></li>
</ul>
<p>On domain level 1, managing of IPA replication agreements using
<code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span></code> and <code class="docutils literal notranslate"><span class="pre">ipa-csreplica-manage</span></code> tools is no longer
possible. But the tools can be still used for managing of winsync
agreements, DNA ranges, RUVs and for reinitializing and
force-synchronizing of replicas. Long term goal is to completely replace
<code class="docutils literal notranslate"><span class="pre">ipa-csreplica-manage</span></code> and leave <code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span></code> only for
managing of winsync agreements.</p>
</section>
<section id="dns-zone-creation-checks">
<h1>DNS zone creation checks<a class="headerlink" href="#dns-zone-creation-checks" title="Link to this heading">#</a></h1>
<p>FreeIPA now checks if specified DNS domains exist prior installing the
integrated DNS server and refuses to use DNS domain names which are
already served by other DNS servers. This prevents problems caused by
situation where multiple DNS servers wrongy act as authoritative servers
for single DNS domain. This has multiple consequences:</p>
<ul class="simple">
<li><p>To avoid conflicts, the unattended installation creates reverse zones
only if option <code class="docutils literal notranslate"><span class="pre">--auto-reverse</span></code> is used.</p></li>
<li><p>Reverse DNS zones which already exist on some other DNS servers are
not automatically created to avoid conflicts (even during interactive
installation).</p></li>
<li><p>When reverse zones are not managed by FreeIPA DNS, the automatic
empty zones (as specified in <a class="reference external" href="http://tools.ietf.org/html/rfc6303#section-4">RFC
6303</a>) are
automatically created by BIND. In situations where these reverse
zones are used and managed by other DNS servers, FreeIPA DNS servers
should forward queries for these zones. In that case users must
manually create ‘forward zone’ using <code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">dnsforwarzone-add</span></code>
command to override automatic empty zone supplied by BIND. This
change affects only new installations.</p></li>
</ul>
</section>
<section id="known-issues">
<h1>Known Issues<a class="headerlink" href="#known-issues" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Running <code class="docutils literal notranslate"><span class="pre">ipa-dns-install</span></code> when some other IPA server has DNS
installed will fail. Use <code class="docutils literal notranslate"><span class="pre">--force</span></code> option to workaround the issue.</p></li>
<li><p>FreeIPA 4.3 requires an update of SELinux policy, see <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1289930">bug
1289930</a>. To
workaround the issue, disable SELinux - <code class="docutils literal notranslate"><span class="pre">setenforce</span> <span class="pre">0</span></code> - on master
when installing a replica or a Certificate Server.</p></li>
<li><p>Re-installation of replica with CA or re-installation of KRA will
fail without
<a class="reference external" href="https://bodhi.fedoraproject.org/updates/FEDORA-2015-c7dd78ac78">pki-core-10.2.6-13</a>,
see <a class="reference external" href="https://fedorahosted.org/pki/ticket/1704">bug #1704</a></p></li>
</ul>
</section>
<section id="bug-fixes">
<h1>Bug fixes<a class="headerlink" href="#bug-fixes" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Contains all bugfixes and enhancements of <a class="reference external" href="Releases/4.2.2">4.2.2</a>
and <a class="reference external" href="Releases/4.2.3">4.2.3</a> releases.</p></li>
<li><p>Automatic configuration for Firefox &lt; 10 was dropped.
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5144">#5144</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--configure-firefox</span></code> is documented in <code class="docutils literal notranslate"><span class="pre">ipa-client-install</span></code> man
page. <a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5375">#5375</a></p></li>
</ul>
</section>
<section id="enhancements">
<h1>Enhancements<a class="headerlink" href="#enhancements" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ipa-getkeytab</span></code> no longer requires to specify server when run on
FreeIPA server.
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/2203">#2203</a>.</p></li>
<li><p>Custom configuration for dse.ldif can be provided on replica
installation.
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/4048">#4048</a>
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/4949">#4949</a>.</p></li>
<li><p>Added support for Ed25519 SSH keys (RFC 7479).
<a class="reference external" href="https://fedorahosted.org/freeipa/ticket/5471">#5471</a>.</p></li>
</ul>
</section>
<section id="upgrading">
<h1>Upgrading<a class="headerlink" href="#upgrading" title="Link to this heading">#</a></h1>
<p>Upgrade instructions are available on <a class="reference external" href="https://www.freeipa.org/page/Upgrade">Upgrade</a> page.</p>
</section>
<section id="feedback">
<h1>Feedback<a class="headerlink" href="#feedback" title="Link to this heading">#</a></h1>
<p>Please provide comments, bugs and other feedback via the freeipa-users
mailing list (<a class="reference external" href="http://www.redhat.com/mailman/listinfo/freeipa-users">http://www.redhat.com/mailman/listinfo/freeipa-users</a>) or
#freeipa channel on Freenode.</p>
</section>
<section id="detailed-changelog-since-4-2-1">
<h1>Detailed Changelog since 4.2.1<a class="headerlink" href="#detailed-changelog-since-4-2-1" title="Link to this heading">#</a></h1>
</section>
<section id="abhijeet-kasurde-4">
<h1>Abhijeet Kasurde (4)<a class="headerlink" href="#abhijeet-kasurde-4" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Added try/except block for user_input in ipautil</p></li>
<li><p>Updated number of legacy permission in ipatests</p></li>
<li><p>Added user friendly error message for dnszone enable and disable</p></li>
<li><p>Fixed small typo in stage-user documentation</p></li>
</ul>
</section>
<section id="alexander-bokovoy-7">
<h1>Alexander Bokovoy (7)<a class="headerlink" href="#alexander-bokovoy-7" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>selinux: enable httpd_run_ipa to allow communicating with oddjobd
services</p></li>
<li><p>oddjob: avoid chown keytab to sssd if sssd user does not exist</p></li>
<li><p>Fix selector of protocol for LSA RPC binding string</p></li>
<li><p>trusts: harden trust-fetch-domains oddjobd-based script</p></li>
<li><p>trusts: format Kerberos principal properly when fetching trust
topology</p></li>
<li><p>client referral support for trusted domain principals</p></li>
<li><p>spec file: depend on Dogtag 10.2.6-12 for tomcat 8 upgrade</p></li>
</ul>
</section>
<section id="benjamin-drung-3">
<h1>Benjamin Drung (3)<a class="headerlink" href="#benjamin-drung-3" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Fix hyphen-used-as-minus-sign warning (found by lintian)</p></li>
<li><p>Fix manpage-has-errors-from-man warning (found by Lintian)</p></li>
<li><p>default.conf.5: Fix a typo</p></li>
</ul>
</section>
<section id="christian-heimes-18">
<h1>Christian Heimes (18)<a class="headerlink" href="#christian-heimes-18" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Start dirsrv for kdcproxy upgrade</p></li>
<li><p>Remove tuple unpacking from except clause
contrib/RHEL4/ipachangeconf.py</p></li>
<li><p>Remove tuple unpacking from except clause
ipa-client/ipaclient/ipachangeconf.py</p></li>
<li><p>Remove tuple unpacking from except clause ipalib/plugins/hbactest.py</p></li>
<li><p>Remove tuple unpacking from except clause ipaserver/dcerpc.py</p></li>
<li><p>Replace file() with open()</p></li>
<li><p>Fix selinux denial during kdcproxy user creation</p></li>
<li><p>certprofile-import: improve profile format documentation</p></li>
<li><p>otptoken: use ipapython.nsslib instead of Python’s ssl module</p></li>
<li><p>Require Dogtag PKI &gt;= 10.2.6</p></li>
<li><p>Replace M2Crypto RC4 with python-cryptography ARC4</p></li>
<li><p>Validate vault’s file parameters</p></li>
<li><p>certprofile-import: do not require profileId in profile data</p></li>
<li><p>Asymmetric vault: validate public key in client</p></li>
<li><p>Add flag to list all service and user vaults</p></li>
<li><p>Change internal rsa_(public|private)_key variable names</p></li>
<li><p>Handle timeout error in ipa-httpd-kdcproxy</p></li>
<li><p>mod_auth_gssapi: Remove ntlmssp support and restrict mechanism to
krb5</p></li>
</ul>
</section>
<section id="david-kupka-22">
<h1>David Kupka (22)<a class="headerlink" href="#david-kupka-22" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>migration: Use api.env variables.</p></li>
<li><p>cermonger: Use private unix socket when DBus SystemBus is not
available.</p></li>
<li><p>ipa-client-install: Do not (re)start certmonger and DBus daemons.</p></li>
<li><p>dbus: Create empty dbus.Array with specified signature</p></li>
<li><p>user-undel: Fix error messages.</p></li>
<li><p>client: Add support for multiple IP addresses during installation.</p></li>
<li><p>client: Add description of –ip-address and –all-ip-addresses to man
page</p></li>
<li><p>Backup/resore authentication control configuration</p></li>
<li><p>vault: Limit size of data stored in vault</p></li>
<li><p>ipactl: Do not start/stop/restart single service multiple times</p></li>
<li><p>comment: Add Documentation string to deduplicate function</p></li>
<li><p>admintool: Add error message with path to log on failure.</p></li>
<li><p>ipa-cacert-renew: Fix connection to ldap.</p></li>
<li><p>ipa-otptoken-import: Fix connection to ldap.</p></li>
<li><p>ipa-replica-install support caless install with promotion.</p></li>
<li><p>install: Run all validators at once.</p></li>
<li><p>replica: Fix ipa-replica-install with replica file (domain level 0).</p></li>
<li><p>test: Temporarily increase timeout in vault test.</p></li>
<li><p>spec file: Add dbus-python to BuildRequires</p></li>
<li><p>dns: do not add (forward)zone if it is already resolvable.</p></li>
<li><p>dns: Check if domain already exists.</p></li>
<li><p>dns: Add –auto-reverse option.</p></li>
</ul>
</section>
<section id="endi-sukma-dewata-6">
<h1>Endi Sukma Dewata (6)<a class="headerlink" href="#endi-sukma-dewata-6" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Fixed missing KRA agent cert on replica.</p></li>
<li><p>Added CLI param and ACL for vault service operations.</p></li>
<li><p>Fixed vault container ownership.</p></li>
<li><p>Added support for changing vault encryption.</p></li>
<li><p>Removed clear text passwords from KRA install log.</p></li>
<li><p>Using LDAPI to setup CA and KRA agents.</p></li>
</ul>
</section>
<section id="francois-cami-1">
<h1>François Cami (1)<a class="headerlink" href="#francois-cami-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>ipa-client-install: Fix the “download the CA cert” query</p></li>
</ul>
</section>
<section id="fraser-tweedale-19">
<h1>Fraser Tweedale (19)<a class="headerlink" href="#fraser-tweedale-19" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>user-show: add –out option to save certificates to file</p></li>
<li><p>Fix otptoken-remove-managedby command summary</p></li>
<li><p>Give more info on virtual command access denial</p></li>
<li><p>Allow SAN extension for cert-request self-service</p></li>
<li><p>Add profile for DNP3 / IEC 62351-8 certificates</p></li>
<li><p>Work around python-nss bug on unrecognised OIDs</p></li>
<li><p>Fix default CA ACL added during upgrade</p></li>
<li><p>Fix KRB5PrincipalName / UPN SAN comparison</p></li>
<li><p>certprofile: add profile format explanation</p></li>
<li><p>Add permission for bypassing CA ACL enforcement</p></li>
<li><p>Prohibit deletion of predefined profiles</p></li>
<li><p>cert-request: remove allowed extensions check</p></li>
<li><p>certprofile: prevent rename (modrdn)</p></li>
<li><p>certprofile: remove ‘rename’ option</p></li>
<li><p>TLS and Dogtag HTTPS request logging improvements</p></li>
<li><p>Avoid race condition caused by profile delete and recreate</p></li>
<li><p>Do not erroneously reinit NSS in Dogtag interface</p></li>
<li><p>Add profiles and default CA ACL on migration</p></li>
<li><p>dogtaginstance: remove unused function ‘check_inst’</p></li>
</ul>
</section>
<section id="gabe-alford-16">
<h1>Gabe Alford (16)<a class="headerlink" href="#gabe-alford-16" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Fix client ca.crt to match the server’s cert</p></li>
<li><p>Add Chromium configuration note to ssbrowser</p></li>
<li><p>Standardize minvalue for ipasearchrecordlimit and ipasesarchsizelimit
for unlimited minvalue</p></li>
<li><p>dnssec option missing in ipa-dns-install man page</p></li>
<li><p>Update FreeIPA package description</p></li>
<li><p>Remove bind configuration detected question</p></li>
<li><p>Warn if no installation found when running ipa-server-install
–uninstall</p></li>
<li><p>Add Firefox options to ipa-client-install man page</p></li>
<li><p>interactive installer does not ignore leading/trailing whitespace</p></li>
<li><p>Remove 50-lockout-policy.update file</p></li>
<li><p>Incomplete ports for IPA AD Trust</p></li>
<li><p>custodia: ipa-upgrade failed on replica</p></li>
<li><p>ipa-replica-manage del continues when host does not exist in domain
level 1</p></li>
<li><p>Check if IPA is configured before attempting a winsync migration</p></li>
<li><p>ipa-replica-install prints incorrect error message when replica is
already installed</p></li>
<li><p>Migrate wget references and usage to curl</p></li>
</ul>
</section>
<section id="jan-cholasta-70">
<h1>Jan Cholasta (70)<a class="headerlink" href="#jan-cholasta-70" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>spec file: Move /etc/ipa/kdcproxy to the server subpackage</p></li>
<li><p>spec file: Update minimum required version of krb5</p></li>
<li><p>install: Fix server and replica install options</p></li>
<li><p>ULC: Prevent preserved users from being assigned membership</p></li>
<li><p>baseldap: Allow overriding member param label in LDAPModMember</p></li>
<li><p>vault: Fix param labels in output of vault owner commands</p></li>
<li><p>install: Fix replica install with custom certificates</p></li>
<li><p>vault: Fix vault-find with criteria</p></li>
<li><p>vault: Add container information to vault command results</p></li>
<li><p>spec file: Add Requires(post) on selinux-policy</p></li>
<li><p>cert renewal: Include KRA users in Dogtag LDAP update</p></li>
<li><p>cert renewal: Automatically update KRA agent PEM file</p></li>
<li><p>install: Fix SASL mappings not added in ipa-server-install</p></li>
<li><p>ldap: Make ldap2 connection management thread-safe again</p></li>
<li><p>Use six.with_metaclass to specify metaclasses</p></li>
<li><p>Use six.python_2_unicode_compatible</p></li>
<li><p>Decode script arguments using file system encoding</p></li>
<li><p>config: allow user/host attributes with tagging options</p></li>
<li><p>Alias “unicode” to “str” under Python 3</p></li>
<li><p>Use bytes instead of str where appropriate</p></li>
<li><p>Use byte literals where appropriate</p></li>
<li><p>baseldap: make subtree deletion optional in LDAPDelete</p></li>
<li><p>vault: set owner to current user on container creation</p></li>
<li><p>vault: update access control</p></li>
<li><p>vault: add permissions and administrator privilege</p></li>
<li><p>install: support KRA update</p></li>
<li><p>install: Support overriding knobs in subclasses</p></li>
<li><p>install: Add common base class for server and replica install</p></li>
<li><p>install: Move unattended option to the general help section</p></li>
<li><p>install: create kdcproxy user during server install</p></li>
<li><p>platform: add option to create home directory when adding user</p></li>
<li><p>install: fix kdcproxy user home directory</p></li>
<li><p>install: fix invocation of KRAInstance.create_instance()</p></li>
<li><p>install: fix ipa-server-install fail on missing –forwarder</p></li>
<li><p>install: fix KRA agent PEM file permissions</p></li>
<li><p>install: always export KRA agent PEM file</p></li>
<li><p>vault: select a server with KRA for vault operations</p></li>
<li><p>schema: do not derive ipaVaultPublicKey from ipaPublicKey</p></li>
<li><p>upgrade: make sure ldap2 is connected in export_kra_agent_pem</p></li>
<li><p>vault: fix private service vault creation</p></li>
<li><p>install: fix command line option validation</p></li>
<li><p>install: export KRA agent PEM file in ipa-kra-install</p></li>
<li><p>cert renewal: make renewal of ipaCert atomic</p></li>
<li><p>client install: do not corrupt OpenSSH config with Match sections</p></li>
<li><p>install: drop support for Dogtag 9</p></li>
<li><p>server: use topologysuffix name in iparepltopomanagedsuffix</p></li>
<li><p>topology: replace “suffices” with “suffixes”</p></li>
<li><p>aci: add IPA servers host group ‘ipaservers’</p></li>
<li><p>aci: replace per-server ACIs with ipaserver-based ACIs</p></li>
<li><p>aci: allow members of ipaservers to set up replication</p></li>
<li><p>ipautil: use file in a temporary dir as ccache in private_ccache</p></li>
<li><p>replica promotion: use host credentials when setting up replication</p></li>
<li><p>replica promotion: automatically add the local host to ipaservers</p></li>
<li><p>custodia: do not modify memberPrincipal on key update</p></li>
<li><p>replica promotion: allow OTP bulk client enrollment</p></li>
<li><p>replica install: add ipaservers if it does not exist</p></li>
<li><p>replica promotion: check domain level before ipaservers membership</p></li>
<li><p>server uninstall: ignore –ignore-topology-disconnect in domain level
0</p></li>
<li><p>spec file: remove config files from freeipa-python</p></li>
<li><p>spec file: put Python modules into standalone packages</p></li>
<li><p>build: put oddjob scripts into separate directory</p></li>
<li><p>replica install: add remote connection check over API</p></li>
<li><p>replica promotion: use host credentials for connection check</p></li>
<li><p>replica promotion: notify user about ignoring client enrollment
options</p></li>
<li><p>aci: merge domain and CA suffix replication agreement ACIs</p></li>
<li><p>ca install: use host credentials in domain level 1</p></li>
<li><p>ipautil: allow redirecting command output to standard output in run()</p></li>
<li><p>server install: redirect ipa-client-install output to standard output</p></li>
<li><p>replica promotion: let ipa-client-install validate enrollment options</p></li>
<li><p>ipautil: remove unused import causing cyclic import in tests</p></li>
</ul>
</section>
<section id="jan-pazdziora-1">
<h1>Jan Pazdziora (1)<a class="headerlink" href="#jan-pazdziora-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>The delegation uris are not set, match message to code.</p></li>
</ul>
</section>
<section id="lenka-doudova-3">
<h1>Lenka Doudova (3)<a class="headerlink" href="#lenka-doudova-3" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Automated test for stageuser plugin</p></li>
<li><p>Fix user tracker to reflect new user-del message</p></li>
<li><p>Adding descriptive IDs to stageuser tests</p></li>
</ul>
</section>
<section id="ludwig-krispenz-5">
<h1>Ludwig Krispenz (5)<a class="headerlink" href="#ludwig-krispenz-5" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>handle multiple managed suffixes</p></li>
<li><p>prevent operation on tombstones</p></li>
<li><p>handle cleaning of RUV in the topology plugin</p></li>
<li><p>reject agreement only if both ends are managed</p></li>
<li><p>update list of managed servers when a suffix becomes managed</p></li>
</ul>
</section>
<section id="lukas-slebodnik-9">
<h1>Lukáš Slebodník (9)<a class="headerlink" href="#lukas-slebodnik-9" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>SPEC: Drop sssd from BuildRequires</p></li>
<li><p>ipa_kdb_tests: Remove unused variables</p></li>
<li><p>ipa_kdb_tests: Fix warning Wmissing-braces</p></li>
<li><p>topology: Fix warning Wshadow</p></li>
<li><p>ipa-extdom-extop: Fix warning Wformat</p></li>
<li><p>SPEC: Run cmocka based unit test in %check phase</p></li>
<li><p>BUILD: provide check target in custom Makefiles</p></li>
<li><p>cmocka_tests: Do not use deprecated cmocka interface</p></li>
<li><p>ipa_kdb_tests: Fix test with default krb5.conf</p></li>
</ul>
</section>
<section id="martin-babinsky-50">
<h1>Martin Babinsky (50)<a class="headerlink" href="#martin-babinsky-50" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>ipa-ca-install: print more specific errors when CA is already
installed</p></li>
<li><p>enable debugging of ntpd during client installation</p></li>
<li><p>fix broken search for users by their manager</p></li>
<li><p>ACI plugin: correctly parse bind rules enclosed in parentheses</p></li>
<li><p>test suite for user/host/service certificate management API commands</p></li>
<li><p>store certificates issued for user entries as userCertificate;binary</p></li>
<li><p>idranges: raise an error when local IPA ID range is being modified</p></li>
<li><p>fix typo in BasePathNamespace member pointing to ods exporter config</p></li>
<li><p>ipa-backup: archive DNSSEC zone file and kasp.db</p></li>
<li><p>ipa-restore: check whether DS is running before attempting connection</p></li>
<li><p>improve the handling of krb5-related errors in dnssec daemons</p></li>
<li><p>improve the usability of `ipa user-del –preserve` command</p></li>
<li><p>load RA backend plugins during standalone CA install on CA-less IPA
master</p></li>
<li><p>destroy httpd ccache after stopping the service</p></li>
<li><p>ipa-server-install: mark master_password Knob as deprecated</p></li>
<li><p>re-kinit after ipa-restore in backup/restore CI tests</p></li>
<li><p>do not overwrite files with local users/groups when restoring
authconfig</p></li>
<li><p>remove ID overrides when deleting a user</p></li>
<li><p>do not ask for segment direction when running topology commands</p></li>
<li><p>fix dsinstance.py:get_domain_level function</p></li>
<li><p>disable ipa-replica-prepare in non-zero IPA domain level</p></li>
<li><p>execute user-del pre-callback also during user preservation</p></li>
<li><p>fix class teardown in user plugin tests</p></li>
<li><p>always ask the resolver for the reverse zone when manipulating PTR
records</p></li>
<li><p>silence pylint in Python 3-specific portion of ipalib/rpc.py</p></li>
<li><p>ipa-replica-prepare: domain level check improvements</p></li>
<li><p>fix error reporting when installer option is supplied with invalid
choice</p></li>
<li><p>remove Kerberos authenticators when installing/uninstalling service
instance</p></li>
<li><p>remove an unneccesary check from IPA server uninstaller</p></li>
<li><p>check for disconnected topology and deleted agreements for all
suffices</p></li>
<li><p>suppress errors arising from adding existing LDAP entries during KRA
install</p></li>
<li><p>update idrange tests to reflect disabled modification of local ID
ranges</p></li>
<li><p>disconnect ldap2 backend after adding default CA ACL profiles</p></li>
<li><p>do not disconnect when using existing connection to check default CA
ACLs</p></li>
<li><p>fix a typo in replica DS creation code</p></li>
<li><p>replica promotion: modify default.conf even if DS configuration fails</p></li>
<li><p>perform IPA client uninstallation as a last step of server uninstall</p></li>
<li><p>fix ‘iparepltopomanagedsuffix’ attribute consumers</p></li>
<li><p>extract domain level 1 topology-checking code from ipa-replica-manage</p></li>
<li><p>implement domain level 1 specific topology checks into IPA server
uninstaller</p></li>
<li><p>replica install: improvements in the handling of CA-related IPA
config entries</p></li>
<li><p>add auto-forwarders option to standalone DNS installer</p></li>
<li><p>add ‘–auto-forwarders’ description to server/replica/DNS installer
man pages</p></li>
<li><p>check whether replica exists before executing the domain level 1
deletion code</p></li>
<li><p>CI tests: ignore disconnected domain level 1 topology on IPA master
teardown</p></li>
<li><p>add ACIs for custodia container to its parent during IPA upgrade</p></li>
<li><p>fix error message assertion in negative forced client reenrollment
tests</p></li>
<li><p>prevent crashes of server uninstall check caused by failed LDAP
connections</p></li>
<li><p>CI tests: remove ‘-p’ option from ipa-dns-install calls</p></li>
<li><p>ipa-client-install: create a temporary directory for ccache files</p></li>
</ul>
</section>
<section id="martin-basti-92">
<h1>Martin Bašti (92)<a class="headerlink" href="#martin-basti-92" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Prevent to rename certprofile profile id</p></li>
<li><p>Stageusedr-activate: show username instead of DN</p></li>
<li><p>copy-schema-to-ca: allow to overwrite schema files</p></li>
<li><p>fix selinuxusermap search for non-admin users</p></li>
<li><p>Validate adding privilege to a permission</p></li>
<li><p>sysrestore: copy files instead of moving them to avoind SELinux
issues</p></li>
<li><p>Allow value ‘no’ for replica-certify-all attr in abort-clean-ruv
subcommand</p></li>
<li><p>Py3: replace tab with space</p></li>
<li><p>DNS: Consolidate DNS RR types in API and schema</p></li>
<li><p>DNS: check if DNS package is installed</p></li>
<li><p>Remove ico files from Makefile</p></li>
<li><p>Use ‘mv -Z’ in specfile to restore SELinux context</p></li>
<li><p>ULC: Fix stageused-add –from-delete command</p></li>
<li><p>Fix upgrade of sidgen and extdom plugins</p></li>
<li><p>Add dependency to SSSD 1.13.1</p></li>
<li><p>Server Upgrade: Start DS before CA is started.</p></li>
<li><p>Add user-stage command</p></li>
<li><p>DNSSEC: fix forward zone forwarders checks</p></li>
<li><p>Fix: Remove leftover krbV reference</p></li>
<li><p>DNSSEC: remove “DNSSEC is experimental” warnings</p></li>
<li><p>Backup: back up the hosts file</p></li>
<li><p>Server Upgrade: fix traceback caused by cidict</p></li>
<li><p>Installer: do not modify /etc/hosts before user agreement</p></li>
<li><p>DNSSEC: backup and restore opendnssec zone list file</p></li>
<li><p>DNSSEC: remove ccache and keytab of ipa-ods-exporter</p></li>
<li><p>FIX vault tests</p></li>
<li><p>Server Upgrade: backup CS.cfg when dogtag is turned off</p></li>
<li><p>IPA Restore: allows to specify files that should be removed</p></li>
<li><p>Server Install: print message that client is being installed</p></li>
<li><p>DNSSEC: improve CI test</p></li>
<li><p>DNSSEC CI: test master migration</p></li>
<li><p>backup CI: test DNS/DNSSEC after backup and restore</p></li>
<li><p>Limit max age of replication changelog</p></li>
<li><p>Server Upgrade: addifnew should not create entry</p></li>
<li><p>CI: backup and restore with KRA</p></li>
<li><p>Replica inst. fix: do not require -r, -a, -p options in unattended
mode</p></li>
<li><p>CI TEST: Vault</p></li>
<li><p>CI Test: add setup_kra options into install scripts</p></li>
<li><p>Replace tab with space in test_user_plugin.py</p></li>
<li><p>Make offline LDIF modify more robust</p></li>
<li><p>Add method to read changes from LDIF</p></li>
<li><p>Add option to specify LDIF file that contains DS configuration
changes</p></li>
<li><p>CI: installation with customized DS config</p></li>
<li><p>Rename option –dirsrv-config-mods to –dirsrv-config-file</p></li>
<li><p>DNSSEC CI: wait until DS records is replicated</p></li>
<li><p>DNSSEC: store status of services only before first install</p></li>
<li><p>DNSSEC: Remove service containers from LDAP after uninstalling</p></li>
<li><p>DNSSEC: warn user if DNSSEC key master is not installed</p></li>
<li><p>ipa-replica-manage: fix undefined variable</p></li>
<li><p>Remove executable bit from ipa_kra_install.py</p></li>
<li><p>Domain levels: use constants rather than hardcoded values</p></li>
<li><p>KRA: fix check that CA is installed</p></li>
<li><p>ipa-csreplica-manage: disable connect/disconnect/del with domain
level &gt; 0</p></li>
<li><p>Fix typo in ods-exporter uninstall to restore state</p></li>
<li><p>DNSSEC: remove sysrestore state after uninstall</p></li>
<li><p>Upgrade: enable custodia service during upgrade</p></li>
<li><p>Use domain level constants in topology plugin</p></li>
<li><p>Tests: DNS replace 192.0.2.0/24 with 198.18.0.0/15 range</p></li>
<li><p>Tests: DNS various exceptions can be raised in test</p></li>
<li><p>Drop configure.jar</p></li>
<li><p>Fix CI tests domain_level env config</p></li>
<li><p>CI test: Fix installation of KRA on a replica</p></li>
<li><p>fix caching in get_ipa_config</p></li>
<li><p>Move common code of user and stageuser to baseuser postcallback</p></li>
<li><p>Allow multiple managers per user - CLI part</p></li>
<li><p>upgrade: fix migration of old dns forward zones</p></li>
<li><p>remove forgotten print in DNS plugin</p></li>
<li><p>Install: Force service add during replica promotion</p></li>
<li><p>Fix upgrade of forwardzones when zone is in realmdomains</p></li>
<li><p>Remove invalid error messages from topology upgrade</p></li>
<li><p>Make command dns-resolve deprecated.</p></li>
<li><p>Call directly function is_host_resolvable instead do call via
framework</p></li>
<li><p>Use absolute domain in detection of A/AAAA records</p></li>
<li><p>ipa-getkeytab: do not return error when translations cannot be loaded</p></li>
<li><p>Compare objectclasses as case insensitive in baseuser.py</p></li>
<li><p>KRA: do not stop certmonger during standalone uninstall</p></li>
<li><p>ipa-ca-install: error when replica file is passed with domain level &gt;
0</p></li>
<li><p>KRA install: show installation message only if install really started</p></li>
<li><p>ipa-kra-install: error when replica file is passed with domain level
&gt; 0</p></li>
<li><p>FIX: ipa_kdb_principals: add missing break statement</p></li>
<li><p>Upgrade: increase time limit for upgrades</p></li>
<li><p>ipa-kra-install: allow to install first KRA on replica</p></li>
<li><p>Modify error message to install first instance of KRA</p></li>
<li><p>CI: test various topologies with multiple replicas</p></li>
<li><p>Force creation of services during replica install</p></li>
<li><p>CI: installation tests</p></li>
<li><p>CI: fix function that prepare the hosts file before CI run</p></li>
<li><p>CI: fix ipa-kra-install on domain level 1</p></li>
<li><p>Install RA cert during replica promotion</p></li>
<li><p>Tests: test_ipagetkeytab: fix assert that is always true</p></li>
<li><p>DNS: fix file permissions</p></li>
<li><p>Explicitly call chmod on newly created directories</p></li>
</ul>
</section>
<section id="martin-kosek-2">
<h1>Martin Košek (2)<a class="headerlink" href="#martin-kosek-2" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Update Contributors.txt</p></li>
<li><p>Update Build instructions</p></li>
</ul>
</section>
<section id="michael-simacek-4">
<h1>Michael Simacek (4)<a class="headerlink" href="#michael-simacek-4" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Port from python-kerberos to python-gssapi</p></li>
<li><p>Bump python-gssapi version to 1.1.2</p></li>
<li><p>Port from python-krbV to python-gssapi</p></li>
<li><p>Rewrap errors in get_principal to CCacheError</p></li>
</ul>
</section>
<section id="milan-kubik-16">
<h1>Milan Kubík (16)<a class="headerlink" href="#milan-kubik-16" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>ipalib: pass api instance into textui in doctest snippets</p></li>
<li><p>spec file: update the python package names for libipa_hbac and
libsss_nss_idmap</p></li>
<li><p>tests: Allow Tracker.dn be an instance of Fuzzy</p></li>
<li><p>ipatests: Take otptoken import test out of execution</p></li>
<li><p>ipatests: Add Certprofile tracker class implementation</p></li>
<li><p>ipatests: Add basic tests for certificate profile plugin</p></li>
<li><p>ipatests: configure Network Manager not to manage resolv.conf</p></li>
<li><p>Include ipatests/test_xmlrpc/data directory into distribution.</p></li>
<li><p>ipatests: add fuzzy instances for CA ACL DN and RDN</p></li>
<li><p>ipatests: Add initial CAACLTracker implementation</p></li>
<li><p>tests: add test to check the default ACL</p></li>
<li><p>ipatests: CA ACL - added config templates</p></li>
<li><p>ipatests: added unlock_principal_password and change_principal</p></li>
<li><p>ipatests: CA ACL and cert profile functional test</p></li>
<li><p>Applied tier0 and tier1 marks on unit tests and xmlrpc tests</p></li>
<li><p>Separated Tracker implementations into standalone package</p></li>
</ul>
</section>
<section id="nathaniel-mccallum-1">
<h1>Nathaniel McCallum (1)<a class="headerlink" href="#nathaniel-mccallum-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Fix an integer underflow bug in libotp</p></li>
</ul>
</section>
<section id="niranjan-mr-1">
<h1>Niranjan MR (1)<a class="headerlink" href="#niranjan-mr-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>enable pem=True in export_pem_cert function</p></li>
</ul>
</section>
<section id="niranjan-mallapadi-1">
<h1>Niranjan Mallapadi (1)<a class="headerlink" href="#niranjan-mallapadi-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Use Exception class instead of StandardError</p></li>
</ul>
</section>
<section id="oleg-fayans-9">
<h1>Oleg Fayans (9)<a class="headerlink" href="#oleg-fayans-9" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Added test - topology plugin is listed among DS plugins</p></li>
<li><p>Added a user-friendly output to an import error</p></li>
<li><p>Temporary fix for ticket 5240</p></li>
<li><p>Integration tests for topology plugin</p></li>
<li><p>Added a proper workaround for dnssec test failures in Beaker
environment</p></li>
<li><p>Fixed a timing issue with drill returning non-zero exitcode</p></li>
<li><p>Updated the tests according to the new replica installation workflow</p></li>
<li><p>The test was made to be skipped if domainlevel is 0</p></li>
<li><p>Fixed A record creation bug</p></li>
</ul>
</section>
<section id="petr-viktorin-60">
<h1>Petr Viktorin (60)<a class="headerlink" href="#petr-viktorin-60" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Modernize number literals</p></li>
<li><p>Modernize ‘except’ clauses</p></li>
<li><p>Modernize function and method attribute names</p></li>
<li><p>Replace dict.has_key with the ‘in’ operator</p></li>
<li><p>Import ‘reduce’ from functools</p></li>
<li><p>Use absolute imports</p></li>
<li><p>Remove use of sys.exc_value</p></li>
<li><p>Don’t use a tuple in function arguments</p></li>
<li><p>Add python-six to dependencies</p></li>
<li><p>Remove the unused pygettext script</p></li>
<li><p>Use six.string_types instead of “basestring”</p></li>
<li><p>Use Python3-compatible dict method names</p></li>
<li><p>Replace filter() calls with list comprehensions</p></li>
<li><p>Use six.moves.input instead of raw_input</p></li>
<li><p>Use six.integer_types instead of (long, int)</p></li>
<li><p>Replace uses of map()</p></li>
<li><p>Use next() function on iterators</p></li>
<li><p>Use the print function</p></li>
<li><p>Use new-style raise syntax</p></li>
<li><p>Use six.reraise</p></li>
<li><p>Modernize use of range()</p></li>
<li><p>Convert zip() result to list()</p></li>
<li><p>ipap11helper: Port to Python 3</p></li>
<li><p>rpc: Don’t use undocumented urllib functions</p></li>
<li><p>ipapython.dn: Use rich comparisons</p></li>
<li><p>test_dn: Split bytes and unicode</p></li>
<li><p>Use sys.maxsize instead of sys.maxint</p></li>
<li><p>Use six.moves.urllib instead of urllib/urllib2/urlparse</p></li>
<li><p>Use six.moves.xmlrpc.client instead of xmlrpclib</p></li>
<li><p>Use six.moves.configparser instead of ConfigParser</p></li>
<li><p>Use six.moves.http_client instead of httplib</p></li>
<li><p>Use six.Stringio instead of StringIO.StringIO</p></li>
<li><p>Remove uses of the `types` module</p></li>
<li><p>ipapython.ssh: Port to Python 3</p></li>
<li><p>Appease pylint</p></li>
<li><p>Do not compare types that are not comparable in Python 3</p></li>
<li><p>x509: Port to Python 3</p></li>
<li><p>Rename caught exception for use outside the except: block.</p></li>
<li><p>test_ipalib.test_frontend: Port unbound method tests to Python 3</p></li>
<li><p>ipalib.aci: Port to Python 3</p></li>
<li><p>Add `message` property to IPA’s errors and warnings under Python 3</p></li>
<li><p>test_keyring: Use str(e) instead of e.message for exceptions</p></li>
<li><p>ipalib.parameters: Handle 0-prefixed octal format of ints</p></li>
<li><p>ipalib.parameters: Require bytes for Bytes.pattern</p></li>
<li><p>rpc: Name argument to KerberosError</p></li>
<li><p>Alias long to int under Python 3</p></li>
<li><p>ipaldap: Remove extraneous `long` (included in six.int_types)</p></li>
<li><p>Handle binascii.Error from base64.b64decode()</p></li>
<li><p>ipatest.util: Port to Python 3</p></li>
<li><p>ipalib.messages: Add “message” property to PublicMessage</p></li>
<li><p>Fix more bytes/unicode issues</p></li>
<li><p>Work around ipalib.text (i18n) str/unicode handling</p></li>
<li><p>Fix left-over Python 3 syntax errors</p></li>
<li><p>ipapython.nsslib, ipalib.rpc: Remove code for Python 2.6 and below</p></li>
<li><p>ipapython.nsslib: Remove NSSHTTPS</p></li>
<li><p>ipapython.secrets: Port to Python 3</p></li>
<li><p>test_parameters: Alias long to int under Python 3</p></li>
<li><p>ipalib.rpc: Update for Python 3</p></li>
<li><p>Refactor ipautil.run</p></li>
<li><p>Package ipapython, ipalib, ipaplatform, ipatests for Python 3</p></li>
</ul>
</section>
<section id="petr-vobornik-45">
<h1>Petr Voborník (45)<a class="headerlink" href="#petr-vobornik-45" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Become IPA 4.2.0</p></li>
<li><p>Bump 4.3 development version to 4.2.90</p></li>
<li><p>do not import memcache on client</p></li>
<li><p>webui: fix user reset password dialog</p></li>
<li><p>fix hbac rule search for non-admin users</p></li>
<li><p>webui: add Kerberos configuration instructions for Chrome</p></li>
<li><p>webui: fix regressions failed auth messages</p></li>
<li><p>webui: add LDAP vs Kerberos behavior description to user auth types</p></li>
<li><p>adjust search so that it works for non-admin users</p></li>
<li><p>validate mutually exclusive options in vault-add</p></li>
<li><p>add permission: System: Manage User Certificates</p></li>
<li><p>vault: normalize service principal in service vault operations</p></li>
<li><p>vault: validate vault type</p></li>
<li><p>vault: change default vault type to symmetric</p></li>
<li><p>fix missing information in object metadata</p></li>
<li><p>webui: add option to establish bidirectional trust</p></li>
<li><p>vault: fix vault tests after default type change</p></li>
<li><p>vault: add vault container commands</p></li>
<li><p>webui: use manual Firefox configuration for Firefox &gt;= 40</p></li>
<li><p>webui: improve performance of search in association dialog</p></li>
<li><p>topology: add realm suffix to master entry on update</p></li>
<li><p>topology: manage ca replication agreements</p></li>
<li><p>enable topology plugin on upgrade</p></li>
<li><p>topology plugin configuration workaround</p></li>
<li><p>change pki-core required version for replica promotion</p></li>
<li><p>Update .po files</p></li>
<li><p>fix broken translations after last po update</p></li>
<li><p>webui: add Deferred/Promise API to rpc.command</p></li>
<li><p>webui: split facet header into two classes</p></li>
<li><p>webui: extract header and action logic from facet to separate mixins</p></li>
<li><p>webui: allow to update action_state directly</p></li>
<li><p>webui: add d3 library - version 3.5.6</p></li>
<li><p>webui: topology graph component</p></li>
<li><p>webui: topology graph facet</p></li>
<li><p>webui: add segments on topology graph page</p></li>
<li><p>webui: remove segments on topology graph page</p></li>
<li><p>webui: update topology graph after raising domain level</p></li>
<li><p>topology: treat server suffix as multivalued attribute in API</p></li>
<li><p>use starttls in CSReplicationManager connection again</p></li>
<li><p>change suffices to suffixes</p></li>
<li><p>topologysuffix: change iparepltopoconfroot API properties</p></li>
<li><p>rename topology suffixes to “domain” and “ca”</p></li>
<li><p>Update ipa-(cs)replica-manage man pages</p></li>
<li><p>Extend topology help</p></li>
<li><p>Become IPA 4.3.0</p></li>
</ul>
</section>
<section id="petr-spacek-19">
<h1>Petr Špaček (19)<a class="headerlink" href="#petr-spacek-19" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Create server-dns sub-package.</p></li>
<li><p>DNSSEC: prevent ipa-ods-exporter from looping after service
auto-restart</p></li>
<li><p>DNSSEC: Fix deadlock in ipa-ods-exporter &lt;-&gt; ods-enforcerd
interaction</p></li>
<li><p>DNSSEC: Fix HSM synchronization in ipa-dnskeysyncd when running on
DNSSEC key master</p></li>
<li><p>DNSSEC: Fix key metadata export</p></li>
<li><p>DNSSEC: Wrap master key using RSA OAEP instead of old PKCS v1.5.</p></li>
<li><p>Avoid ipa-dnskeysync-replica &amp; ipa-ods-exporter crashes caused by
exceeding LDAP limits</p></li>
<li><p>ipa-adtrust-install: Print complete SRV records</p></li>
<li><p>DNSSEC: on uninstall, do not restore OpenDNSSEC kasp.db if backup
failed</p></li>
<li><p>DNSSEC: improve log messages in uninstaller</p></li>
<li><p>DNS record-add warns when a suspicious DNS name is detected</p></li>
<li><p>Remove dead code in ipaserver/install/installutils: read_ip_address()</p></li>
<li><p>Remove unused constant NEW_MASTER_MARK from ipaserver.install.dns</p></li>
<li><p>ipa-client-install: add support for Ed25519 SSH keys (RFC 7479)</p></li>
<li><p>ipa-dns-install offer IP addresses from resolv.conf as default
forwarders</p></li>
<li><p>Remove global variable dns_forwarders from ipaserver.install.dns</p></li>
<li><p>add missing /ipaplatform/constants.py to .gitignore</p></li>
<li><p>Makefile: disable parallel build</p></li>
<li><p>dns: Handle SERVFAIL in check if domain already exists.</p></li>
</ul>
</section>
<section id="rob-crittenden-1">
<h1>Rob Crittenden (1)<a class="headerlink" href="#rob-crittenden-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Use %license instead of %doc for packaging the license</p></li>
</ul>
</section>
<section id="robert-kuska-1">
<h1>Robert Kuska (1)<a class="headerlink" href="#robert-kuska-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Replace StandardError with Exception</p></li>
</ul>
</section>
<section id="simo-sorce-23">
<h1>Simo Sorce (23)<a class="headerlink" href="#simo-sorce-23" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Fix DNS records installation for replicas</p></li>
<li><p>Remove custom utility function from krbinstance</p></li>
<li><p>Move sasl mappings creation to dsinstance</p></li>
<li><p>Simplify adding options in ipachangeconf</p></li>
<li><p>Insure the admin_conn is disconnected on stop</p></li>
<li><p>Remove unused arguments</p></li>
<li><p>Simplify the install_replica_ca function</p></li>
<li><p>Add ipa-custodia service</p></li>
<li><p>Require a DS version that has working DNA plugin</p></li>
<li><p>Implement replica promotion functionality</p></li>
<li><p>Change DNS installer code to use passed in api</p></li>
<li><p>Allow ipa-replica-conncheck to use default creds</p></li>
<li><p>Add function to extract CA certs for install</p></li>
<li><p>Allow to setup the CA when promoting a replica</p></li>
<li><p>Make checks for existing credentials reusable</p></li>
<li><p>Add low level helper to get domain level</p></li>
<li><p>Remove unused kra option</p></li>
<li><p>Allow ipa-ca-install to use the new promotion code</p></li>
<li><p>Allow to install the KRA on a promoted server</p></li>
<li><p>Check early if a CA is already installed locally</p></li>
<li><p>Return default TL_DATA is krbExtraData is missing</p></li>
<li><p>Support sourcing the IPA server name from config</p></li>
<li><p>Sync kerberos LDAP schema with upstream.</p></li>
</ul>
</section>
<section id="stanislav-laznicka-3">
<h1>Stanislav Laznicka (3)<a class="headerlink" href="#stanislav-laznicka-3" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>ipa-client-install: warn when IP used in –server</p></li>
<li><p>Fixes disappearing automember expressions</p></li>
<li><p>Removed duplicate domain name validating function</p></li>
</ul>
</section>
<section id="sumit-bose-3">
<h1>Sumit Bose (3)<a class="headerlink" href="#sumit-bose-3" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>ipasam: fix wrong usage of talloc_new()</p></li>
<li><p>ipasam: use more restrictive search filter for group lookup</p></li>
<li><p>ipasam: fix a use-after-free issue</p></li>
</ul>
</section>
<section id="timo-aaltonen-7">
<h1>Timo Aaltonen (7)<a class="headerlink" href="#timo-aaltonen-7" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>paths: Add GENERATE_RNDC_KEY.</p></li>
<li><p>httpinstance: Replace a hardcoded path to password.conf with
HTTPD_PASSWORD_CONF</p></li>
<li><p>ipaplatform: Add HTTPD_USER to constants, and use it.</p></li>
<li><p>ipaplatform: Add NAMED_USER to constants</p></li>
<li><p>httpinstance: Use full path via HTTPD_IPA_REWRITE_CONF for Include.</p></li>
<li><p>ipaplatform: Add SECURE_NFS_VAR to constants</p></li>
<li><p>ipaplatform: Add NTPD_OPTS_VAR and NTPD_OPTS_QUOTE to constants</p></li>
</ul>
</section>
<section id="tomas-babej-59">
<h1>Tomáš Babej (59)<a class="headerlink" href="#tomas-babej-59" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>ipalib: Fix missing format for InvalidDomainLevelError</p></li>
<li><p>Revert “Hide topology and domainlevel features”</p></li>
<li><p>trusts: Check for AD root domain among our trusted domains</p></li>
<li><p>domainlevel: Fix incorrect initializations of InvalidDomainLevelError
exceptions</p></li>
<li><p>ipaplatform: Add constants submodule</p></li>
<li><p>tests: user_plugin: Add preserved flag when –all is used</p></li>
<li><p>dcerpc: Expand explanation for WERR_ACCESS_DENIED</p></li>
<li><p>idviews: Check for the Default Trust View only if applying the view</p></li>
<li><p>tests: service_plugin: Make sure the cert is decoded from base64</p></li>
<li><p>tests: realmdomains_plugin: Add explanatory comment</p></li>
<li><p>tests: Version is currently generated during command call</p></li>
<li><p>tests: vault_plugin: Skip tests if KRA not available</p></li>
<li><p>tests: test_rpc: Create connection for the current thread</p></li>
<li><p>tests: test_cert: Services can have multiple certificates</p></li>
<li><p>dcerpc: Fix UnboundLocalError for ccache_name</p></li>
<li><p>dcerpc: Add get_trusted_domain_object_type method</p></li>
<li><p>idviews: Restrict anchor to name and name to anchor conversions</p></li>
<li><p>idviews: Enforce objectclass check in idoverride*-del</p></li>
<li><p>replication: Fix incorrect exception invocation</p></li>
<li><p>Fix incorrect type comparison in trust-fetch-domains</p></li>
<li><p>dcerpc: Simplify generation of LSA-RPC binding strings</p></li>
<li><p>adtrust-install: Correctly determine 4.2 FreeIPA servers</p></li>
<li><p>trusts: Detect domain clash with IPA domain when adding a AD trust</p></li>
<li><p>trusts: Detect missing Samba instance</p></li>
<li><p>winsync-migrate: Add warning about passsync</p></li>
<li><p>winsync-migrate: Expand the man page</p></li>
<li><p>winsync: Add inetUser objectclass to the passsync sysaccount</p></li>
<li><p>ipa-backup: Add mechanism to store empty directory structure</p></li>
<li><p>winsync-migrate: Convert entity names to posix friendly strings</p></li>
<li><p>winsync-migrate: Properly handle collisions in the names of external
groups</p></li>
<li><p>util: Add detect_dns_zone_realm_type helper</p></li>
<li><p>realmdomains: Minor style and wording improvements</p></li>
<li><p>realmdomains: Add validation that realmdomain being added is indeed
from our realm</p></li>
<li><p>realmdomains: Issue a warning when automated management of
realmdomains failed</p></li>
<li><p>realmdomains: Do not fail due the ValidationError when adding
_kerberos TXT record</p></li>
<li><p>tests: Amend result assertions in realmdomains tests</p></li>
<li><p>idoverride: Ignore ValidationErrors when converting the anchor</p></li>
<li><p>tests: Add tests for idoverride object integrity</p></li>
<li><p>trusts: Make trust_show.get_dn raise properly formatted NotFound</p></li>
<li><p>trustdomain: Perform validation of the trust domain first</p></li>
<li><p>adtrustinstance: Wait for sidgen task completion</p></li>
<li><p>adtrustinstance: Restart samba service at the end of adtrust-install</p></li>
<li><p>adtrustinstance: Do not use bare except clauses</p></li>
<li><p>ipachangeconf: Remove reference to an old-style interface</p></li>
<li><p>spec: Add Provides directives to alternative package names</p></li>
<li><p>private_ccache: Harden the removal of KRB5CCNAME env variable</p></li>
<li><p>ipachangeconf: Add ability to preserve section case</p></li>
<li><p>ipa-client-automount: Leverage IPAChangeConf to configure the domain
for idmapd</p></li>
<li><p>custodia: Make sure container is created with first custodia replica</p></li>
<li><p>replicainstall: Add possiblity to install client in one command</p></li>
<li><p>translations: Update ipa.pot file</p></li>
<li><p>man: Update the ipa-replica-install manpage with promotion related
info</p></li>
<li><p>tests: Fix incorrect uninstall method invocation</p></li>
<li><p>replicainstall: Admin password should not conflict with replica file</p></li>
<li><p>topology: Make sure the old ‘realm’ topology suffix is not used</p></li>
<li><p>topology: Fix: Make sure the old ‘realm’ topology suffix is not used</p></li>
<li><p>tests: Add hostmask detection for sudo rules validating on hostmask</p></li>
<li><p>replicainstall: Add check for domain if server is specified</p></li>
<li><p>replicainstall: Make sure the enrollment state is preserved</p></li>
</ul>
</section>
<section id="yuri-chornoivan-2">
<h1>Yuri Chornoivan (2)<a class="headerlink" href="#yuri-chornoivan-2" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Fix minor typos</p></li>
<li><p>Fix minor typos</p></li>
</ul>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Highlights in 4.3.0</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#domain-level">Domain Level</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#replica-installation">Replica installation</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#old-method-domain-level-0">Old method - domain level 0</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-method-domain-level-1">New method - domain level 1</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#promotion-of-existing-client">1. Promotion of existing client</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-of-replica-on-non-freeipa-client-machine">2. Installation of replica on non-FreeIPA client machine</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-of-replica-using-one-time-password-otp">3. Installation of replica using one time password(OTP)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-of-replica-using-a-host-keytab">4. Installation of replica using a host keytab</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#managed-replication-topology">Managed Replication Topology</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dns-zone-creation-checks">DNS zone creation checks</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#known-issues">Known Issues</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bug-fixes">Bug fixes</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enhancements">Enhancements</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#upgrading">Upgrading</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#feedback">Feedback</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#detailed-changelog-since-4-2-1">Detailed Changelog since 4.2.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#abhijeet-kasurde-4">Abhijeet Kasurde (4)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#alexander-bokovoy-7">Alexander Bokovoy (7)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#benjamin-drung-3">Benjamin Drung (3)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#christian-heimes-18">Christian Heimes (18)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#david-kupka-22">David Kupka (22)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#endi-sukma-dewata-6">Endi Sukma Dewata (6)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#francois-cami-1">François Cami (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fraser-tweedale-19">Fraser Tweedale (19)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#gabe-alford-16">Gabe Alford (16)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#jan-cholasta-70">Jan Cholasta (70)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#jan-pazdziora-1">Jan Pazdziora (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lenka-doudova-3">Lenka Doudova (3)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ludwig-krispenz-5">Ludwig Krispenz (5)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lukas-slebodnik-9">Lukáš Slebodník (9)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#martin-babinsky-50">Martin Babinsky (50)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#martin-basti-92">Martin Bašti (92)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#martin-kosek-2">Martin Košek (2)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#michael-simacek-4">Michael Simacek (4)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#milan-kubik-16">Milan Kubík (16)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#nathaniel-mccallum-1">Nathaniel McCallum (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#niranjan-mr-1">Niranjan MR (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#niranjan-mallapadi-1">Niranjan Mallapadi (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#oleg-fayans-9">Oleg Fayans (9)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#petr-viktorin-60">Petr Viktorin (60)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#petr-vobornik-45">Petr Voborník (45)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#petr-spacek-19">Petr Špaček (19)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#rob-crittenden-1">Rob Crittenden (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#robert-kuska-1">Robert Kuska (1)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#simo-sorce-23">Simo Sorce (23)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stanislav-laznicka-3">Stanislav Laznicka (3)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sumit-bose-3">Sumit Bose (3)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#timo-aaltonen-7">Timo Aaltonen (7)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tomas-babej-59">Tomáš Babej (59)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#yuri-chornoivan-2">Yuri Chornoivan (2)</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By FreeIPA Team
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023, FreeIPA Team.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>