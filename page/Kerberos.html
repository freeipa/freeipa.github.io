

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Kerberos &#8212; FreeIPA  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'page/Kerberos';</script>
    <link rel="icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><a class="navbar-brand logo" href="/">
    <img src="/_static/freeipa-logo-small.png" class="logo__image only-light" alt="Logo image" />
</a>
<div class="sidebar-primary-item">
    <nav class="bd-links" id="bd-docs-nav" aria-label="Main">
        <div class="bd-toc-item navbar-nav active">
            <ul class="nav bd-sidenav">
                <li class="toctree-l1"><a class="reference internal" href="/About.html">About</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Contribute.html">Contribute</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Downloads.html">Downloads</a></li>
            </ul>
        </div>
    </nav>
</div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/page/Kerberos.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Kerberos</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Kerberos</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#how-it-works">How it works</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data">Data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kerberos-specific-terminology">Kerberos-Specific Terminology</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="kerberos">
<h1>Kerberos<a class="headerlink" href="#kerberos" title="Permalink to this heading">#</a></h1>
<p>The Kerberos KDC/Kadmin components are implemented using the <a class="reference external" href="http://web.mit.edu/kerberos/">MIT
Kerberos</a> software. It provides
authentication services for the entire FreeIPA realm, it’s users
services and other components. Kerberos server is one of the base stones
of a FreeIPA server.</p>
</section>
<section id="how-it-works">
<h1>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this heading">#</a></h1>
<p>When you run <code class="docutils literal notranslate"><span class="pre">kinit</span></code> command you invoke a client that connects to the
Kerberos server, called KDC. As a result of the authentication the
client receives a ticket. This ticket is a temporary pass or better say
a pass-book. The best example from the real life will a be pass to a
movie festival. A pass to such festival would allow someone to attend
different movies at their discretion. Kerberos is very similar. When
user tries to access some kind of resource protected by Kerberos the
resource requires the user to present a valid ticket – same as with the
movies.</p>
<p>To get such a ticket the user needs to prove that he is who he is.
Asking user to authenticate with his password all the time might be too
annoying and hard to manage. This is why there is a multi tier process.
First user authenticates and gets so called <em>TGT</em> (ticket granting
ticket). This ticket can be presented to Kerberos server at any moment
and a new ticket specific to the resource the user wants to access can
be acquired. All the tickets have a configurable expiration time (run
<code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">help</span> <span class="pre">krbtpolicy</span></code> to get more information) so user needs to
re-authenticate from time to time but it is much less of a burden.</p>
<p>When <a class="reference external" href="Client">SSSD</a> project is used, the ticket is get for a user
automatically as he authenticates to client machine.</p>
</section>
<section id="data">
<h1>Data<a class="headerlink" href="#data" title="Permalink to this heading">#</a></h1>
<p>MIT Kerberos KDC server reads all the user and service identity
information from a <a class="reference external" href="Directory_Server">Directory Server</a>. FreeIPA
implements an own <strong>ipa-kdb</strong> KDC data backend implementation reading
and writing all the required information to LDAP tree. The provides both
basic identity retrieval function, but also more advanced features, like
verifying, signing and producing Kerberos ticket MS-PAC extension when
<a class="reference external" href="Trusts">Trusts</a> are in place.</p>
</section>
<section id="kerberos-specific-terminology">
<h1>Kerberos-Specific Terminology<a class="headerlink" href="#kerberos-specific-terminology" title="Permalink to this heading">#</a></h1>
<p>authentication server (AS) : A server that issues tickets for a desired
service which are in turn given to users for access to the service. The
AS responds to requests from clients who do not have or do not send
credentials with a request. It is usually used to gain access to the
ticket-granting server (TGS) service by issuing a ticket-granting ticket
(TGT). The AS usually runs on the same host as the key distribution
center (KDC).</p>
<p>ciphertext : Encrypted data.</p>
<p>client : An entity on the network (a user, a host, or an application)
that can receive a ticket from Kerberos.</p>
<p>credentials : A temporary set of electronic credentials that verify the
identity of a client for a particular service. Also called a ticket.</p>
<p>credential cache or ticket file : A file which contains the keys for
encrypting communications between a user and various network services.
Kerberos 5 supports a framework for using other cache types, such as
shared memory, but files are more thoroughly supported.</p>
<p>crypt hash : A one-way hash used to authenticate users. These are more
secure than using unencrypted data, but they are still relatively easy
to decrypt for an experienced cracker.</p>
<p>GSS-API : The Generic Security Service Application Program Interface
(defined in RFC-2743 published by The Internet Engineering Task Force)
is a set of functions which provide security services. This API is used
by clients and services to authenticate to each other without either
program having specific knowledge of the underlying mechanism. If a
network service (such as cyrus-IMAP) uses GSS-API, it can authenticate
using Kerberos.</p>
<p>hash : Also known as a hash value. A value generated by passing a string
through a hash function. These values are typically used to ensure that
transmitted data has not been tampered with.</p>
<p>hash function : A way of generating a digital “fingerprint” from input
data. These functions rearrange, transpose or otherwise alter data to
produce a hash value.</p>
<p>key : Data used when encrypting or decrypting other data. Encrypted data
cannot be decrypted without the proper key or extremely good fortune on
the part of the cracker.</p>
<p>key distribution center (KDC) : A service that issues Kerberos tickets,
and which usually runs on the same host as the ticket-granting server
(TGS).</p>
<p>keytab (or key table) : A file that includes an unencrypted list of
principals and their keys. Servers retrieve the keys they need from
keytab files instead of using kinit. The default keytab file is
<code class="docutils literal notranslate"><span class="pre">/etc/krb5.keytab</span></code>. The KDC administration server,
<strong>/usr/kerberos/sbin/kadmind</strong>, is the only service that uses any other
file (it uses <code class="docutils literal notranslate"><span class="pre">/var/kerberos/krb5kdc/kadm5.keytab</span></code>).</p>
<p>kinit : The kinit command allows a principal who has already logged in
to obtain and cache the initial ticket-granting ticket (TGT). Refer to
the kinit man page for more information.</p>
<p>principal (or principal name) : The principal is the unique name of a
user or service allowed to authenticate using Kerberos. A principal
follows the form <em>root[/instance]&#64;REALM</em>. For a typical user, the root
is the same as their login ID. The instance is optional. If the
principal has an instance, it is separated from the root with a forward
slash (“/”). An empty string (“”) is considered a valid instance (which
differs from the default NULL instance), but using it can be confusing.
All principals in a realm have their own key, which for users is derived
from a password or is randomly set for services.</p>
<p>realm : A network that uses Kerberos, composed of one or more servers
called KDCs and a potentially large number of clients.</p>
<p>service : A program accessed over the network.</p>
<p>ticket : A temporary set of electronic credentials that verify the
identity of a client for a particular service. Also called credentials.</p>
<p>ticket-granting server (TGS) : A server that issues tickets for a
desired service which are in turn given to users for access to the
service. The TGS usually runs on the same host as the KDC.</p>
<p>ticket-granting ticket (TGT) : A special ticket that allows the client
to obtain additional tickets without applying for them from the KDC.</p>
<p>unencrypted password : A plain text, human-readable password.</p>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Kerberos</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#how-it-works">How it works</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data">Data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kerberos-specific-terminology">Kerberos-Specific Terminology</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By FreeIPA Team
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023, FreeIPA Team.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>