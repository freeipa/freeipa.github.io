
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ConfiguringFedoraClients &#8212; FreeIPA  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'page/ConfiguringFedoraClients';</script>
    <link rel="icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><a class="navbar-brand logo" href="/">
    <img src="https://raw.githubusercontent.com/freeipa/freeipa.github.io/main/src/_static/freeipa-logo-small.png" class="logo__image" alt="Logo image" />
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><div class="sidebar-primary-item">
    <nav class="bd-links" id="bd-docs-nav" aria-label="Main">
        <div class="bd-toc-item navbar-nav active">
            <ul class="nav bd-sidenav">
                <li class="toctree-l1"><a class="reference internal" href="/About.html">About</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Contribute.html">Contribute</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/page/Documentation.html">Documentation</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/page/Troubleshooting.html">Troubleshooting</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Downloads.html">Downloads</a></li>
            </ul>
        </div>
    </nav>
</div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/page/ConfiguringFedoraClients.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>ConfiguringFedoraClients</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">ConfiguringFedoraClients</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-the-ipa-client">Installing the IPA Client</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-the-ipa-client">Configuring the IPA Client</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-client-authentication">Configuring Client Authentication</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-kerberos">Configuring Kerberos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-client-tls">Configuring Client TLS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-nfs-v4-with-kerberos">Configuring NFS v4 with Kerberos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-client-ssh-access">Configuring Client SSH Access</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-host-based-access-control">Configuring Host-Based Access Control</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="configuringfedoraclients">
<h1>ConfiguringFedoraClients<a class="headerlink" href="#configuringfedoraclients" title="Link to this heading">#</a></h1>
<p>Back to <a class="reference external" href="FreeIPAv1:Client_Configuration_Guide">FreeIPAv1:Client Configuration
Guide</a></p>
<p>__TOC__</p>
</section>
<section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h1>
<p>This document describes the procedures required to configure Fedora as
an IPA client. IPA 1.2 supports Fedora 8, 9, 10 and 11 as IPA clients.
Previous versions may work as well if manually configured (or the
freeIPA src.rpm rebuilt on that platform).</p>
<p>This document distinguishes between commands to be run as root versus a
regular user. Commands to be run as root are prefixed with a # symbol.
Commands to be run as a regular user are prefixed with a $ symbol.</p>
<blockquote>
<div><p><img alt="Note.png" src="../_images/Note.png" /><strong>Note:</strong></p>
<blockquote>
<div><p>Before starting the freeIPA installation, ensure that you update
your system with all the latest packages.</p>
</div></blockquote>
</div></blockquote>
</section>
<section id="installing-the-ipa-client">
<h1>Installing the IPA Client<a class="headerlink" href="#installing-the-ipa-client" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Install the client and tools with:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># yum install ipa-client</span>
</pre></div>
</div>
<p>This should install all the dependencies as well.</p>
<p>2. If your IPA server was set up for DNS, and is in the same domain as
the client, add the server’s IP address to the client’s
<code class="docutils literal notranslate"><span class="pre">/etc/resolv.conf</span></code> file.</p>
<p>So add a line that looks something like (depending on the IP address of
your IPA server).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nameserver</span> <span class="mf">192.168.100.1</span>
</pre></div>
</div>
<p>Note: this is not typical.</p>
</section>
<section id="configuring-the-ipa-client">
<h1>Configuring the IPA Client<a class="headerlink" href="#configuring-the-ipa-client" title="Link to this heading">#</a></h1>
<section id="configuring-client-authentication">
<h2>Configuring Client Authentication<a class="headerlink" href="#configuring-client-authentication" title="Link to this heading">#</a></h2>
<blockquote>
<div><p><img alt="Note.png" src="../_images/Note.png" /> <strong>Note:</strong></p>
<blockquote>
<div><p>The IPA client requires that an IPA server already exist.</p>
</div></blockquote>
</div></blockquote>
<ol class="arabic simple">
<li><p>Use the following command to set up the freeIPA client:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># ipa-client-install</span>
</pre></div>
</div>
<p>The script should set up the IPA client without prompting for any
further information. This includes configuring the name service cache
daemon to start at boot time. This will cache the most common name
service requests from the client, and reduce the load on the server.</p>
<p>When the script has finished configuring the freeIPA client, it will
display information about the realm, DNS domain, IPA server, etc. You
should see output similar to the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Discovery was successful!
Realm: EXAMPLE.COM
DNS Domain: example.com
IPA Server: ipaserver.example.com
BaseDN: dc=example,dc=com
</pre></div>
</div>
<blockquote>
<div><p><img alt="Note.png" src="../_images/Note.png" /> <strong>Note:</strong></p>
<blockquote>
<div><p>If your IPA server and client are not in the same domain, the
setup script will prompt you for the information that it requires.</p>
</div></blockquote>
</div></blockquote>
</section>
<section id="configuring-kerberos">
<h2>Configuring Kerberos<a class="headerlink" href="#configuring-kerberos" title="Link to this heading">#</a></h2>
<p>Only a basic Kerberos configuration file is created as part of the
Client Configuration procedures described above. You need to perform the
remaining configuration changes manually.</p>
<p>1. Modify the <code class="docutils literal notranslate"><span class="pre">/etc/krb5.conf</span></code> file on the client as shown below.
Ensure that you replace the example values with those that apply to your
deployment.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">libdefaults</span><span class="p">]</span>
 <span class="n">default_realm</span> <span class="o">=</span> <span class="n">EXAMPLE</span><span class="o">.</span><span class="n">COM</span>
 <span class="n">dns_lookup_realm</span> <span class="o">=</span> <span class="n">true</span>
 <span class="n">dns_lookup_kdc</span> <span class="o">=</span> <span class="n">true</span>
 <span class="n">forwardable</span> <span class="o">=</span> <span class="n">yes</span>
 <span class="n">ticket_lifetime</span> <span class="o">=</span> <span class="mi">24</span><span class="n">h</span>

<span class="p">[</span><span class="n">realms</span><span class="p">]</span>
 <span class="n">EXAMPLE</span><span class="o">.</span><span class="n">COM</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">kdc</span> <span class="o">=</span> <span class="n">ipaserver</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="mi">88</span>
  <span class="n">admin_server</span> <span class="o">=</span> <span class="n">ipaserver</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="mi">749</span>
  <span class="n">default_domain</span> <span class="o">=</span> <span class="n">example</span><span class="o">.</span><span class="n">com</span>
 <span class="p">}</span>
<span class="p">[</span><span class="n">domain_realm</span><span class="p">]</span>
 <span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span> <span class="o">=</span> <span class="n">EXAMPLE</span><span class="o">.</span><span class="n">COM</span>
 <span class="n">example</span><span class="o">.</span><span class="n">com</span> <span class="o">=</span> <span class="n">EXAMPLE</span><span class="o">.</span><span class="n">COM</span>
</pre></div>
</div>
</section>
<section id="configuring-client-tls">
<h2>Configuring Client TLS<a class="headerlink" href="#configuring-client-tls" title="Link to this heading">#</a></h2>
<p>The SSL/TLS settings are only required if you want to use SSL between
the clients and the server when performing operations such as account
lookups.</p>
<p>TLS Client Configuration for Linux clients is detailed at
<a class="reference external" href="http://directory.fedora.redhat.com/wiki/Howto:SSL">http://directory.fedora.redhat.com/wiki/Howto:SSL</a>. Refer to this link if
any additional information is required. The basic steps required are:</p>
<ol class="arabic simple">
<li><p>Modify the following in the <code class="docutils literal notranslate"><span class="pre">/etc/ldap.conf</span></code> file:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">URI</span>     <span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">ipaserver</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
<span class="n">BASE</span> <span class="n">dc</span><span class="o">=</span><span class="n">example</span><span class="p">,</span><span class="n">dc</span><span class="o">=</span><span class="n">com</span>
<span class="n">HOST</span> <span class="n">ipaserver</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
<span class="n">TLS_CACERTDIR</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">cacerts</span><span class="o">/</span>
<span class="n">TLS_REQCERT</span> <span class="n">allow</span>
</pre></div>
</div>
<blockquote>
<div><p><img alt="Note.png" src="../_images/Note.png" /> <strong>Note:</strong></p>
<blockquote>
<div><p>Ensure that the directory you specify for TLS_CACERTDIR actually
exists.</p>
</div></blockquote>
</div></blockquote>
<p>2. Export your CA certificate to ASCII using the <strong>certutil</strong> utility
with the <strong>-a</strong> option.</p>
<p>3. Install this certificate in the <code class="docutils literal notranslate"><span class="pre">/etc/cacerts</span></code> directory as
follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># cp cacert.asc /etc/cacerts/`openssl x509 -noout \
  -hash -in cacert.asc`.0

The file name is the hash of the contents with a &quot;.0&quot; filename
extension.
</pre></div>
</div>
<p>4. If the TLS_CACERTDIR directive does not work, set the cacert file
directly:</p>
<p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">TLS_CACERT</span> <span class="pre">/etc/cacerts/cacert.asc</span></code></p>
<blockquote>
<div><p>If more than one CA certificate is required, concatenate these
certificates into a single file.</p>
</div></blockquote>
</section>
<section id="configuring-nfs-v4-with-kerberos">
<h2>Configuring NFS v4 with Kerberos<a class="headerlink" href="#configuring-nfs-v4-with-kerberos" title="Link to this heading">#</a></h2>
<p>Use the following procedure to configure NFS on the IPA client:</p>
<ol class="arabic simple">
<li><p>Obtain a Kerberos ticket for the <strong>admin</strong> user.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># kinit admin</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Add an NFS service principal on the client.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># ipa-addservice nfs/ipaclient.example.com</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Get a keytab for the NFS service principal.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># ipa-getkeytab -s ipaserver.example.com -p nfs/ipaclient.example.com -k /etc/krb5.keytab</span>
</pre></div>
</div>
<blockquote>
<div><p><img alt="Note.png" src="../_images/Note.png" /><strong>Note:</strong></p>
<blockquote>
<div><p>The Linux NFS implementation still has limited encryption type
support. You may need to use the <strong>-e des-cbc-crc</strong> option to the
<strong>ipa-getkeytab</strong> command for any <strong>nfs/&lt;FQDN&gt;</strong> service keytabs
you want to set up, both on the server and on all clients. This
will instruct the KDC to generate only DES keys.</p>
</div></blockquote>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Add the following line to the <code class="docutils literal notranslate"><span class="pre">/etc/sysconfig/nfs</span></code> file:</p></li>
</ol>
<p><strong>SECURE_NFS=yes</strong></p>
<ol class="arabic simple" start="4">
<li><p>Start the <strong>rpcgssd</strong> daemon.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># service rpcgssd start</span>
</pre></div>
</div>
<p>Your IPA client should now be fully configured to mount NFS shares using
your Kerberos credentials. You can use the following command to test the
configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># mount -v -t nfs4 -o sec=krb5 ipaserver.example.com:/ /mnt</span>
</pre></div>
</div>
</section>
<section id="configuring-client-ssh-access">
<h2>Configuring Client SSH Access<a class="headerlink" href="#configuring-client-ssh-access" title="Link to this heading">#</a></h2>
<p>You can also configure the IPA client to accept incoming SSH requests
and authenticate with the user’s Kerberos credentials. After installing
and configuring the IPA client, use the following procedure to configure
the IPA client for SSH connections. Remember to replace the example host
and domain names with your own host and domain name:</p>
<p>1. The IPA client installation process does not configure the NTP
protocol service by default, but it is a good idea to make sure that
time on the IPA client and server is synchronized. If it is not, you
should run the following command on the IPA client. You will need to
stop <strong>ntpd</strong> and retsart it after the command is issued, because
<strong>ntpdate</strong> does not work if <strong>ntpd</strong> is running.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># ntpdate -s -p 8 -u ipaserver.example.com</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Obtain a Kerberos ticket for the <strong>admin</strong> user.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># kinit admin</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Add a host service principal on the IPA client.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># ipa-addservice host/ipaclient.example.com</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Retrieve the keytab.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># ipa-getkeytab -s ipaserver.example.com -p host/ipaclient.example.com -k /etc/krb5.keytab</span>
</pre></div>
</div>
<p>Your IPA client should now be fully configured to accept incoming SSH
connections and authenticate with the user’s Kerberos credentials. Use
the following command from another machine to test the configuration.
This should succeed without asking for a password.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># ssh admin@ipaclient.example.com</span>
</pre></div>
</div>
</section>
<section id="configuring-host-based-access-control">
<h2>Configuring Host-Based Access Control<a class="headerlink" href="#configuring-host-based-access-control" title="Link to this heading">#</a></h2>
<p>You can configure Red Hat Enterprise Linux and Fedora to allow or deny
access to IPA resources and services based on the configuration of the
host from which access is attempted. Refer to <a class="reference external" href="Obsolete:Administrators_Guide#Configuring_Host-Based_Access_Control">Configuring Host-Based
Access
Control</a>
for more information on this topic.</p>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">ConfiguringFedoraClients</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-the-ipa-client">Installing the IPA Client</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-the-ipa-client">Configuring the IPA Client</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-client-authentication">Configuring Client Authentication</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-kerberos">Configuring Kerberos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-client-tls">Configuring Client TLS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-nfs-v4-with-kerberos">Configuring NFS v4 with Kerberos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-client-ssh-access">Configuring Client SSH Access</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-host-based-access-control">Configuring Host-Based Access Control</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By FreeIPA Team
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023, FreeIPA Team.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>