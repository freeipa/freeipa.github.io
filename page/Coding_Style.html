

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Coding_Style &#8212; FreeIPA  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'page/Coding_Style';</script>
    <link rel="icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><a class="navbar-brand logo" href="/">
    <img src="/_static/freeipa-logo-small.png" class="logo__image only-light" alt="Logo image" />
</a>
<div class="sidebar-primary-item">
    <nav class="bd-links" id="bd-docs-nav" aria-label="Main">
        <div class="bd-toc-item navbar-nav active">
            <ul class="nav bd-sidenav">
                <li class="toctree-l1"><a class="reference internal" href="/About.html">About</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Contribute.html">Contribute</a></li>
                <li class="toctree-l1"><a class="reference internal" href="/Downloads.html">Downloads</a></li>
            </ul>
        </div>
    </nav>
</div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/page/Coding_Style.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Coding_Style</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Coding_Style</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#why-coding-guidelines">Why Coding Guidelines?</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#maintainability">Maintainability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#readability">Readability</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#definitions">Definitions</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#rules">Rules</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#general-rules">General Rules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spaces-and-indentation">Spaces and Indentation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#length-of-line">Length of Line</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comments">Comments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ifdef">IFDEF</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#include-files">Include Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#macros">Macros</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variables">Variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#naming">Naming</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#declaring">Declaring</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-of-typedefs">Use of Typedefs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#declaring-structures">Declaring Structures</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#global-variables">Global Variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions">Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#external-function-declarations">External Function Declarations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#declaring-module-functions">Declaring Module Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#order-of-the-functions">Order of the Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#naming-functions">Naming Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#indenting-functions">Indenting Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#function-declaration">Function Declaration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#function-parameters">Function Parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-of-const">Use of Const</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tools-to-use">Tools to Use</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditions-and-statements">Conditions and Statements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#condition">Condition</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#if-statements">IF Statements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loops">Loops</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#switch">Switch</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#strings">Strings</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#internationalized-i18n-strings">Internationalized (i18n) Strings</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="coding-style">
<h1>Coding_Style<a class="headerlink" href="#coding-style" title="Permalink to this heading">#</a></h1>
</section>
<section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h1>
<p>This manual contains coding standards and guidelines for freeIPA
contributors. It is based heavily on the <a class="reference external" href="http://directory.fedoraproject.org/wiki?title=Coding_Style">389 Directory Server style
guide</a>
but deviates from it and covers more aspects. It is modified and
extended based on the discussion that was conducted on the freeipa-devel
list in early November 2008.</p>
<p>All new code should adhere to these standards but please do not go back
and make wholesale formatting changes to the old code. It just confuses
things and is generally a waste of time.</p>
</section>
<section id="why-coding-guidelines">
<h1>Why Coding Guidelines?<a class="headerlink" href="#why-coding-guidelines" title="Permalink to this heading">#</a></h1>
<p>The Coding Guidelines are necessary to improve maintainability and
readability of the code.</p>
<section id="maintainability">
<h2>Maintainability<a class="headerlink" href="#maintainability" title="Permalink to this heading">#</a></h2>
<p>If you’re merging changes from a patch it’s much easier if everyone is
using the same coding style. This isn’t the reality for a lot of our
code, but we’re trying to get to the point where most of it uses the
same style.</p>
</section>
<section id="readability">
<h2>Readability<a class="headerlink" href="#readability" title="Permalink to this heading">#</a></h2>
<p>Remember, code isn’t just for compilers, it’s for people, too. If it
wasn’t for people, we would all be programming in assembly. Coding style
and consistency mean that if you go from one part of the code to another
you don’t spend time having to re-adjust from one style to another.
Blocks are consistent and readable and the flow of the code is apparent.
Coding style adds value for people who have to read your code after
you’ve been hit by a bus. Remember that.</p>
</section>
</section>
<section id="definitions">
<h1>Definitions<a class="headerlink" href="#definitions" title="Permalink to this heading">#</a></h1>
<p>The following guidelines apply to developing code in the freeIPA
project. Some rules are mandatory some rules are just suggestions or
recommendations. We will use following terminology to identify whether
this or that rule is mandatory or not.</p>
<ul class="simple">
<li><p>MUST – everybody must follow the rule</p></li>
<li><p>HIGHLY RECOMMENDED – the rule should be followed unless there are
some serious reasons why they should not be followed.</p></li>
<li><p>RECOMMENDED – it is a best practice to use this rule. It is not
required but strongly encouraged.</p></li>
<li><p>DISCRETION – follow this at developer discretion.</p></li>
</ul>
</section>
<section id="rules">
<h1>Rules<a class="headerlink" href="#rules" title="Permalink to this heading">#</a></h1>
<section id="general-rules">
<h2>General Rules<a class="headerlink" href="#general-rules" title="Permalink to this heading">#</a></h2>
<p>MUST: All source and header files must include a copy of the license.
HIGHLY RECOMMENDED: Stick to a K&amp;R coding style for C. HIGHLY
RECOMMENDED: Curly braces on same line as if/while. MUST: All code
should be peer reviewed before being checked in unless it is a one line
trivial change. MUST: If you are fixing a bug, attach the patch to the
bug report. HIGHLY RECOMMENDED: Much of IPA uses Python so we have an
enforced style in many cases already but consistency is important.</p>
</section>
<section id="spaces-and-indentation">
<h2>Spaces and Indentation<a class="headerlink" href="#spaces-and-indentation" title="Permalink to this heading">#</a></h2>
<p>MUST: No tabs all indentation 4 spaces. HIGHLY RECOMMENDED: When
wrapping lines, try to break it:</p>
<p>:* after a comma</p>
<p>:* before an operator</p>
<p>:* align the new line with the beginnigng of the expression at the same
level in the previous line</p>
<p>:* if all else fails, just indent 8 spaces.</p>
</section>
<section id="length-of-line">
<h2>Length of Line<a class="headerlink" href="#length-of-line" title="Permalink to this heading">#</a></h2>
<p>MUST: Do not make lines longer than 120 characters. HIGHLY RECOMMENDED:
Keep lines within 80 character boundary for better readability.</p>
</section>
<section id="comments">
<h2>Comments<a class="headerlink" href="#comments" title="Permalink to this heading">#</a></h2>
<p>MUST: Use only C style comments /* */ not C++. MUST: When commenting
use the following styles:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``   /*``
| ``    * VERY important single-line comments look like this.``
| ``    */``

``   /* Most single-line comments look like this. */``

| ``   /*``
| ``    * Multi-line comments look like this. Make them real sentences. Fill``
| ``    * them so they look like real paragraphs.``
| ``    */``
</pre></div>
</div>
<p>Avoid:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``   /* Multiline comments``
| ``      that look like this */``
</pre></div>
</div>
<p>HIGHLY RECOMMENDED: Avoid useless comments that do not add value to the
code.</p>
<p>HIGHLY RECOMMENDED: Each function should be preceded with a block
comment describing what the function is supposed to do.</p>
<p>HIGHLY RECOMMENDED: Block comments should be preceded by a blank line to
set it apart. Line up the * characters in the block comment.</p>
<p>HIGHLY RECOMMENDED: Python comments can use either the # or “”” form</p>
</section>
<section id="ifdef">
<h2>IFDEF<a class="headerlink" href="#ifdef" title="Permalink to this heading">#</a></h2>
<p>HIGHLY RECOMMENDED: When using #ifdefs, it’s nice to add comments in the
pairing #endif:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``  #ifndef _HEADER_H_``
| ``  #define _HEADER_H_``
| ``  ``
| ``  /* something here */``
| ``  ``
| ``  #endif /* !_HEADER_H_ */``
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``  #ifdef HAVE_PTHREADS``
| ``  ``
| ``  /* some code here */``
| ``  ``
| ``  #else /* !HAVE_PTHREADS */``
| ``  ``
| ``  /* some other code here */``
| ``  ``
| ``  #endif /* HAVE_PTHREADS */``
</pre></div>
</div>
</section>
<section id="include-files">
<h2>Include Files<a class="headerlink" href="#include-files" title="Permalink to this heading">#</a></h2>
<p>RECOMMENDED: Includes should be grouped properly. Standard headers and
local headers should definitely be separated by a blank line. Other
logical grouping should be reasonably done if needed. Files inside the
groups should be sorted alphabetically, unless a specific order is
required - this however is very rare, and must not happen. Also, one
shouldn’t depend on the fact that one header file includes other one,
unless it is really obvious and/or desirable, like in cases when one
header file practically “enhances” the other one, for example with more
error codes, etc.</p>
</section>
<section id="macros">
<h2>Macros<a class="headerlink" href="#macros" title="Permalink to this heading">#</a></h2>
<p>HIGHLY RECOMMENDED: Macros that are unsafe should be in upper-case. This
also applies to macros that span multiple lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``  #define MY_MACRO(a, b) do {   \``
| ``               foo((a) + (b));  \``
| ``               bar(a);          \``
| ``  } while (0)``
</pre></div>
</div>
<p>Notice that arguments should be in parentheses if there’s a risk. Also
notice that a is referenced two times, and hence the macro is dangerous.
Wrapping the body in do { } while (0) makes it safe to use it like this:</p>
<dl>
<dt>::</dt><dd><div class="line-block">
<div class="line">``  if (expr)``</div>
<div class="line">``      MY_MACRO(x, y);``</div>
</div>
</dd>
</dl>
<p>Notice the semicolon is used after the invocation, not in the macro definition.
Otherwise, if a macro is safe (for example a simple wrapping function), then the case can be lower-case.</p>
</section>
<section id="variables">
<h2>Variables<a class="headerlink" href="#variables" title="Permalink to this heading">#</a></h2>
</section>
<section id="naming">
<h2>Naming<a class="headerlink" href="#naming" title="Permalink to this heading">#</a></h2>
<p>HIGHLY RECOMMENDED: Use low case multi word underscore separated
notation for naming variables. HIGHLY RECOMMENDED: Make name meaningful.
MUST: Never use Hungarian notation when naming variables.</p>
</section>
<section id="declaring">
<h2>Declaring<a class="headerlink" href="#declaring" title="Permalink to this heading">#</a></h2>
<p>RECOMMENDED: One declaration per line is preferred.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``   int foo;``
| ``   int bar;``
</pre></div>
</div>
<p>instead of</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>``  int foo, bar;``
</pre></div>
</div>
<p>HIGHLY RECOMMENDED: Initialize at declaration time when possible.</p>
<p>RECOMMENDED: Avoid complex variable initializations (like calling
functions) when declaring variables like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>``  int foobar = get_foobar(baz);``
</pre></div>
</div>
<p>but split it in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``  int foobar;``
| ``  ``
| ``  foobar = get_foobar(baz);``
| ``  ...``
</pre></div>
</div>
<p>HIGHLY RECOMMENDED: Always declare all variables at the top of the
function, normally try to avoid declaring local variables in internal
loops.</p>
<p>RECOMMENDED: Don’t initialize static or global variables to 0 or NULL.</p>
</section>
<section id="use-of-typedefs">
<h2>Use of Typedefs<a class="headerlink" href="#use-of-typedefs" title="Permalink to this heading">#</a></h2>
<p>HIGHLY RECOMMENDED: Avoid using typedefs. Typedefs obscure structures
and make it harder to understand and debug.</p>
</section>
<section id="declaring-structures">
<h2>Declaring Structures<a class="headerlink" href="#declaring-structures" title="Permalink to this heading">#</a></h2>
<p>DISCRETION: When defining structure or union try make it easy to read.
You may use some form of alignment if you see that this might make it
more readable.</p>
</section>
<section id="global-variables">
<h2>Global Variables<a class="headerlink" href="#global-variables" title="Permalink to this heading">#</a></h2>
<p>HIGHLY RECOMMENDED: Avoid using global variables. They make for very
poor code. Should be used only if no other way can be found. They tend
to be not thread/async safe</p>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this heading">#</a></h2>
</section>
<section id="external-function-declarations">
<h2>External Function Declarations<a class="headerlink" href="#external-function-declarations" title="Permalink to this heading">#</a></h2>
<p>HIGHLY RECOMMENDED: Avoid situations where you have to explicitly list
out external function. The header files should in general take care of
the external function declaration. If this is not the case it is subject
for review of the header file hierarchy.</p>
</section>
<section id="declaring-module-functions">
<h2>Declaring Module Functions<a class="headerlink" href="#declaring-module-functions" title="Permalink to this heading">#</a></h2>
<p>DISCRETION: It up to the developer to define the order of the functions
in the module and thus declare functions at the top or use a native flow
of the module and avoid forward function declarations.</p>
</section>
<section id="order-of-the-functions">
<h2>Order of the Functions<a class="headerlink" href="#order-of-the-functions" title="Permalink to this heading">#</a></h2>
<p>DISCRETION: It is up to the developer which approach to use: whether to
write the main function at the top of the module and then all the
supporting functions or start with supporting functions and have the
main one at the bottom. Both approaches are acceptable. One can use
additional comments to help identify how the module is structured.</p>
</section>
<section id="naming-functions">
<h2>Naming Functions<a class="headerlink" href="#naming-functions" title="Permalink to this heading">#</a></h2>
<p>MUST: For function names use multi word underscore separate naming
convention like this monitor_task_init(struct task_server *task); MUST:
Never use Hungarian notation when naming functions.</p>
</section>
<section id="indenting-functions">
<h2>Indenting Functions<a class="headerlink" href="#indenting-functions" title="Permalink to this heading">#</a></h2>
<p>DISCRETION: It is up to the developer which pattern to use when
indenting the function parameters if function has long name and has to
be split between multiple lines. The pattern however MUST be consistent
across the module so if you are fixing somebodies code continue with the
pattern used in the module.</p>
</section>
<section id="function-declaration">
<h2>Function Declaration<a class="headerlink" href="#function-declaration" title="Permalink to this heading">#</a></h2>
<p>DISCRETION: It is up to the developer whether to put the return type of
the function and modifiers (static for example) in front of the function
on the same line or start the line with the an actual function name. In
any case the pattern MUST be consistent across the module. If you are
adding function to an already existing module follow its pattern. MUST:
Put opening “{“ of the function body on the beginning of the new line
after the function declaration. HIGHLY RECOMMENDED: Do not put spaces
before or after parenthesis in the declaration of the parameters. For
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``  OK:  int foo(int bar, int baz);``
| ``  NOT OK: bad ( arg1 , arg2 );``
</pre></div>
</div>
</section>
<section id="function-parameters">
<h2>Function Parameters<a class="headerlink" href="#function-parameters" title="Permalink to this heading">#</a></h2>
<p>RECOMMENDED: Try to always put “input” arguments before “output”
arguments, if you have arguments that provide both input an output put
them between the pure-input and the pure-output ones.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``  OK: foo(int in1, void *in2, char **ou1);``
| ``  NOT OK: voo(char **ou1, int in1);``
</pre></div>
</div>
</section>
<section id="use-of-const">
<h2>Use of Const<a class="headerlink" href="#use-of-const" title="Permalink to this heading">#</a></h2>
<p>RECOMMENDED: If appropriate, always use the const modifier for pointers
passed to the function. This makes the intentions of the function more
clearer, plus allows the compiler to catch more bugs and make some
optimizations.</p>
</section>
<section id="tools-to-use">
<h2>Tools to Use<a class="headerlink" href="#tools-to-use" title="Permalink to this heading">#</a></h2>
<p>RECOMMENDED: Creating lists and queues was already done a lot of times.
When possible, use some common functions for manipulating these to avoid
mistakes.</p>
</section>
<section id="conditions-and-statements">
<h2>Conditions and Statements<a class="headerlink" href="#conditions-and-statements" title="Permalink to this heading">#</a></h2>
</section>
<section id="condition">
<h2>Condition<a class="headerlink" href="#condition" title="Permalink to this heading">#</a></h2>
<p>RECOMMENDED: Use the full condition syntax like (NULL == str) rather
than (!str).</p>
</section>
<section id="if-statements">
<h2>IF Statements<a class="headerlink" href="#if-statements" title="Permalink to this heading">#</a></h2>
<p>HIGHLY RECOMMENDED: If-else statements should have the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``   if (``\ *``condition``*\ ``) {``
| ``       /* do some work */``
| ``   }``

| ``   if (``\ *``condition``*\ ``) {``
| ``       /* do some work */``
| ``   } else {``
| ``       /* do some other work */``
| ``   }``
</pre></div>
</div>
<p>HIGHLY RECOMMENDED: Balance the braces in the if and else in an if-else
statement if either has only one line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``   if (condition) {``
| ``       /*``
| ``        * stuff that takes up more than one``
| ``        * line``
| ``        */``
| ``   } else {``
| ``       /* stuff that only uses one line */``
| ``   }``
</pre></div>
</div>
<p>HIGHLY RECOMMENDED: The corollary is also true; don’t use braces if
there’s only one line for both:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``   if (foo)``
| ``       bar();``
| ``   else``
| ``       baz();``
</pre></div>
</div>
<p>Allowed approach is to use braces if there is only one line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``   if (foo) {``
| ``       bar();``
| ``   } else {``
| ``       baz();``
| ``   }``
</pre></div>
</div>
<p>HIGHLY RECOMMENDED: Avoid last-return-in-else problem. Code should look
like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``   int foo(int bar)``
| ``   {``
| ``       if (something) {``
| ``           /* stuff done here */``
| ``           return 1;            ``
| ``       }``
| ``   ``
| ``       return 0;``
| ``   }``
</pre></div>
</div>
<p><strong>NOT</strong> like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``   int foo(int bar)``
| ``   {``
| ``       if (something) {``
| ``           /* stuff done here */``
| ``           return 1;            ``
| ``       } else {``
| ``           return 0;``
| ``       }``
| ``   }``
</pre></div>
</div>
</section>
<section id="loops">
<h2>Loops<a class="headerlink" href="#loops" title="Permalink to this heading">#</a></h2>
<p>HIGHLY RECOMMENDED: For, while and until statements should take a
similar form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``   for (``\ *``initialization;``\ ````\ ``condition;``\ ````\ ``update``*\ ``) {``
| ``       /* iterate here */``
| ``   }``

| ``   while (``\ *``condition``*\ ``) {``
| ``       /* do some work */``
| ``   }``
</pre></div>
</div>
<section id="switch">
<h3>Switch<a class="headerlink" href="#switch" title="Permalink to this heading">#</a></h3>
<p>HIGHLY RECOMMENDED: Use the following style for the switch statements</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| ``  switch (var) {``
| ``  case 0:``
| ``      break;``
| ``  case 1:``
| ``      printf(&quot;meh.\n&quot;);``
| ``      /* FALLTHROUGH */``
| ``  case 2:``
| ``      printf(&quot;2\n&quot;);``
| ``      break;``
| ``  default:``
| ``      /* Always have default */``
| ``      break;``
| ``  }``
</pre></div>
</div>
</section>
</section>
<section id="strings">
<h2>Strings<a class="headerlink" href="#strings" title="Permalink to this heading">#</a></h2>
</section>
<section id="internationalized-i18n-strings">
<h2>Internationalized (i18n) Strings<a class="headerlink" href="#internationalized-i18n-strings" title="Permalink to this heading">#</a></h2>
<p>If the string will be internationalized (e.g. is marked with _()) and
it has more than one format substitution you
<strong>MUSTuseindexformat specifiers, not positional format
specifiers. Translators need the option to reorder where substitutions
appear in a string because the ordering of nouns, verbs, phrases, etc.
differ between languages. If conventional positional format conversion
specifiers (e.g. %s %d) are used the string cannot be reordered because
the ordering of the format specifiers must match the ordering of the
printf arguments supplying the substitutions. The fix for this is easy,
use indexed format specifiers. An indexed specifier includes an (1
based) index to the % character that introduces the format specifier
(e.g. %1$ to indicate the first argument). That index is used to select
the matching argument from the argument list. When indexed specifiers
are usedallformat specifiers andall* width fieldsMUST</strong> use
indexed specifiers.</p>
<p>Here is an example of incorrect usage with positional specifiers:</p>
<p>`` printf(_(“item %s has %s value”), name, value);``</p>
<p>Here is the correct usage using indexed specifiers:</p>
<p>`` printf(_(“item %1$s has %2$s value”), name, value);``</p>
<p>See man 3 printf as well as section 15.3.1 “C Format Strings” in the GNU
gettext manual for more details.</p>
<p><a class="reference external" href="Category:Developer_documentation">Category:Developer documentation</a>
<a class="reference external" href="Category:Help_for_developers">Category:Help for developers</a>
<a class="reference external" href="Category:How_to">Category:How to</a></p>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Coding_Style</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#why-coding-guidelines">Why Coding Guidelines?</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#maintainability">Maintainability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#readability">Readability</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#definitions">Definitions</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#rules">Rules</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#general-rules">General Rules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spaces-and-indentation">Spaces and Indentation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#length-of-line">Length of Line</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comments">Comments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ifdef">IFDEF</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#include-files">Include Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#macros">Macros</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variables">Variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#naming">Naming</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#declaring">Declaring</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-of-typedefs">Use of Typedefs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#declaring-structures">Declaring Structures</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#global-variables">Global Variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions">Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#external-function-declarations">External Function Declarations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#declaring-module-functions">Declaring Module Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#order-of-the-functions">Order of the Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#naming-functions">Naming Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#indenting-functions">Indenting Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#function-declaration">Function Declaration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#function-parameters">Function Parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-of-const">Use of Const</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tools-to-use">Tools to Use</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditions-and-statements">Conditions and Statements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#condition">Condition</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#if-statements">IF Statements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loops">Loops</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#switch">Switch</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#strings">Strings</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#internationalized-i18n-strings">Internationalized (i18n) Strings</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By FreeIPA Team
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023, FreeIPA Team.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>